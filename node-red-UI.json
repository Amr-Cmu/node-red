[
    {
        "id": "32fe437973082b00",
        "type": "tab",
        "label": "Home",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72813f1e3dcc0999",
        "type": "tab",
        "label": "Create Path",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e84628502f1c10c8",
        "type": "tab",
        "label": "Follow Person",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "84e6737c788fd481",
        "type": "tab",
        "label": "Auto Path",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d2d1ade5b115c118",
        "type": "tab",
        "label": "Admin Mode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6a634f37461e289e",
        "type": "tab",
        "label": "Teleoperation Control",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d7548e7d9ae66fa6",
        "type": "tab",
        "label": "Follow Human",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d2c9ccadd91a44fb",
        "type": "tab",
        "label": "Follow Path",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "67f441e2c645fc13",
        "type": "tab",
        "label": "Navigation to different positions",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5628521c79fe58e0",
        "type": "tab",
        "label": "Save Path",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c39c572b899184d8",
        "type": "tab",
        "label": "Save Position",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "644589065e812f09",
        "type": "tab",
        "label": "Create map",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "dbf2bef4312877d8",
        "type": "tab",
        "label": "login",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7bb80232067eb108",
        "type": "dds-settings",
        "domain": "0"
    },
    {
        "id": "1dd00dfda20dc411",
        "type": "mqtt-broker",
        "name": "",
        "broker": "broker.emqx.io",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "892c2d0ec9a945cb",
        "type": "websocket-listener",
        "path": "ws://localhost:9090",
        "wholemsg": "false"
    },
    {
        "id": "c195382218af8034",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#800020",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#800020",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#cc0033",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#800020",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "df1b7b49b77b96c6",
        "type": "ui_tab",
        "name": "Admin Mode",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d1a489f10a7db87e",
        "type": "ui_tab",
        "name": "Teleoperation Control",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "bab1ef6b55bdac1a",
        "type": "ui_tab",
        "name": "Follow Human",
        "icon": "dashboard",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "edafd2fa37aa4597",
        "type": "ui_tab",
        "name": "Follow Path",
        "icon": "dashboard",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a6e4f22d52aa8f09",
        "type": "ui_tab",
        "name": "Save Path",
        "icon": "dashboard",
        "order": 10,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d9b582ce3c3efb81",
        "type": "ui_tab",
        "name": "Navigation to different positions",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "bb63e689b0aae0f4",
        "type": "ui_tab",
        "name": "Save Position",
        "icon": "dashboard",
        "order": 11,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f51158cf17eb8e52",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "774992e3843e468b",
        "type": "ui_tab",
        "name": "Create Map",
        "icon": "dashboard",
        "order": 12,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "26bf3ece251e291f",
        "type": "ui_tab",
        "name": "Create Path",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9c476c6341dea341",
        "type": "ui_tab",
        "name": "Auto Path",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9ee44658e64b90fc",
        "type": "ui_group",
        "name": " ",
        "tab": "df1b7b49b77b96c6",
        "order": 1,
        "disp": true,
        "width": 9,
        "collapse": false,
        "className": ""
    },
    {
        "id": "c80234f781ae44a3",
        "type": "ui_group",
        "name": " ",
        "tab": "d1a489f10a7db87e",
        "order": 1,
        "disp": true,
        "width": 10,
        "collapse": false,
        "className": ""
    },
    {
        "id": "8c7a98564ba04595",
        "type": "ui_group",
        "name": " ",
        "tab": "bab1ef6b55bdac1a",
        "order": 1,
        "disp": true,
        "width": 9,
        "collapse": false,
        "className": ""
    },
    {
        "id": "50a4f1bcfab2902c",
        "type": "ui_group",
        "name": " ",
        "tab": "edafd2fa37aa4597",
        "order": 1,
        "disp": true,
        "width": 9,
        "collapse": false,
        "className": ""
    },
    {
        "id": "f2fc9efefe67e228",
        "type": "ui_group",
        "name": " ",
        "tab": "a6e4f22d52aa8f09",
        "order": 1,
        "disp": true,
        "width": 7,
        "collapse": false,
        "className": ""
    },
    {
        "id": "94964ecd11dac9e3",
        "type": "ui_group",
        "name": " ",
        "tab": "d9b582ce3c3efb81",
        "order": 1,
        "disp": true,
        "width": 9,
        "collapse": false,
        "className": ""
    },
    {
        "id": "3e66937ec7c5fd90",
        "type": "ui_group",
        "name": " ",
        "tab": "bb63e689b0aae0f4",
        "order": 1,
        "disp": true,
        "width": 7,
        "collapse": false,
        "className": ""
    },
    {
        "id": "5128e868abbd1e3b",
        "type": "ui_group",
        "name": " ",
        "tab": "df1b7b49b77b96c6",
        "order": 2,
        "disp": true,
        "width": 9,
        "collapse": false,
        "className": ""
    },
    {
        "id": "da0ca243d2d46654",
        "type": "ui_group",
        "name": " ",
        "tab": "f51158cf17eb8e52",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d2ea437d.24017",
        "type": "ui_group",
        "name": "Stream",
        "tab": "",
        "order": 5,
        "disp": true,
        "width": 13,
        "collapse": false
    },
    {
        "id": "db6b90317e3a0e44",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "774992e3843e468b",
        "order": 1,
        "disp": true,
        "width": 10
    },
    {
        "id": "69e1226c24051699",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "774992e3843e468b",
        "order": 2,
        "disp": true,
        "width": 9
    },
    {
        "id": "6df59df74913e31c",
        "type": "ui_group",
        "name": " ",
        "tab": "26bf3ece251e291f",
        "order": 1,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7115b5eb19e09cb1",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "9c476c6341dea341",
        "order": 1,
        "disp": true,
        "width": 9
    },
    {
        "id": "c864ad556ce2bc22",
        "type": "ui_group",
        "name": " ",
        "tab": "26bf3ece251e291f",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a47f90bb1d356555",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "f4b3d11a79afba07",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "",
        "order": 6,
        "width": 3,
        "height": 1
    },
    {
        "id": "19ccaece5e07cd81",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "",
        "order": 8,
        "width": 3,
        "height": 1
    },
    {
        "id": "ebdc1ef63a956bec",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "26cc433bd211148f",
        "order": 5,
        "width": 9,
        "height": 1
    },
    {
        "id": "92239fd5a04faeec",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "26cc433bd211148f",
        "order": 8,
        "width": 9,
        "height": 1
    },
    {
        "id": "b64927a6fde3a0c4",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "26cc433bd211148f",
        "order": 9,
        "width": 3,
        "height": 1
    },
    {
        "id": "402de84b051ba116",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "26cc433bd211148f",
        "order": 11,
        "width": 3,
        "height": 1
    },
    {
        "id": "8dda1977c3fd3746",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "623ab38093c52aed",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 6,
        "width": 4,
        "height": 1
    },
    {
        "id": "78bdc035f962cede",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "13763c0d2764f924",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 9,
        "width": 2,
        "height": 1
    },
    {
        "id": "f4d51520928865c7",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 13,
        "width": 2,
        "height": 1
    },
    {
        "id": "bf5569c056a331ee",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 14,
        "width": 4,
        "height": 1
    },
    {
        "id": "8fc787d811170c2c",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 16,
        "width": 4,
        "height": 1
    },
    {
        "id": "d2300fcd86ef18d3",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 17,
        "width": 10,
        "height": 1
    },
    {
        "id": "54fc548840854b74",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "6df59df74913e31c",
        "order": 19,
        "width": 4,
        "height": 1
    },
    {
        "id": "9825a1d53dc7f963",
        "type": "ui_spacer",
        "z": "32fe437973082b00",
        "name": "spacer",
        "group": "da0ca243d2d46654",
        "order": 4,
        "width": 9,
        "height": 1
    },
    {
        "id": "fb072ff79722e190",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "9ee44658e64b90fc",
        "order": 3,
        "width": 9,
        "height": 1
    },
    {
        "id": "9efe1b21b39afd73",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "9ee44658e64b90fc",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "24a8b3e296a1529c",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "9ee44658e64b90fc",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "f76ea2a2aeb9174e",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "9ee44658e64b90fc",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "b6ae3a81ba464851",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "5128e868abbd1e3b",
        "order": 5,
        "width": 9,
        "height": 1
    },
    {
        "id": "6d0aadb6822bc376",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "5128e868abbd1e3b",
        "order": 8,
        "width": 9,
        "height": 1
    },
    {
        "id": "a40f87311f1574c1",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "5128e868abbd1e3b",
        "order": 9,
        "width": 1,
        "height": 1
    },
    {
        "id": "bfad90d63b4f1e4f",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "5128e868abbd1e3b",
        "order": 11,
        "width": 1,
        "height": 1
    },
    {
        "id": "295beb9e02cd69ea",
        "type": "ui_spacer",
        "z": "d2d1ade5b115c118",
        "name": "spacer",
        "group": "5128e868abbd1e3b",
        "order": 13,
        "width": 1,
        "height": 1
    },
    {
        "id": "812663f98c4a26aa",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "7115b5eb19e09cb1",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "7a57cc7f25138a31",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "7115b5eb19e09cb1",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "99b9fe8614a9c346",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "7115b5eb19e09cb1",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "8894f241acd5b47c",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "7115b5eb19e09cb1",
        "order": 9,
        "width": 9,
        "height": 1
    },
    {
        "id": "bd25a3d94e77176a",
        "type": "ui_spacer",
        "z": "84e6737c788fd481",
        "name": "spacer",
        "group": "7115b5eb19e09cb1",
        "order": 11,
        "width": 6,
        "height": 1
    },
    {
        "id": "dc5de2dc1ba79dbf",
        "type": "ui_tab",
        "name": "Follow Person",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1727d516f28c9df5",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "dc5de2dc1ba79dbf",
        "order": 1,
        "disp": true,
        "width": 9
    },
    {
        "id": "1ab879ca01986b6a",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "dc5de2dc1ba79dbf",
        "order": 2,
        "disp": true,
        "width": 9
    },
    {
        "id": "984dd73c9110d5fc",
        "type": "ui_spacer",
        "z": "e84628502f1c10c8",
        "name": "spacer",
        "group": "1727d516f28c9df5",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "d7121a04123bd59e",
        "type": "ui_spacer",
        "z": "e84628502f1c10c8",
        "name": "spacer",
        "group": "1727d516f28c9df5",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "e285886b4c1a6bc7",
        "type": "ui_spacer",
        "z": "e84628502f1c10c8",
        "name": "spacer",
        "group": "1727d516f28c9df5",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "e57f5596c2ea54e2",
        "type": "ui_spacer",
        "z": "e84628502f1c10c8",
        "name": "spacer",
        "group": "1727d516f28c9df5",
        "order": 9,
        "width": 9,
        "height": 1
    },
    {
        "id": "b8b1a4a325d5b65d",
        "type": "ui_spacer",
        "z": "e84628502f1c10c8",
        "name": "spacer",
        "group": "1727d516f28c9df5",
        "order": 11,
        "width": 6,
        "height": 1
    },
    {
        "id": "3a2d538a9ff57c9e",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "b257c8c593953f8c",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 6,
        "width": 4,
        "height": 1
    },
    {
        "id": "356ee8356ccdd59b",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "8319467df0df1d48",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 9,
        "width": 2,
        "height": 1
    },
    {
        "id": "f8f8808afd3fe816",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 13,
        "width": 2,
        "height": 1
    },
    {
        "id": "603c42ba88f3e1a4",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 14,
        "width": 4,
        "height": 1
    },
    {
        "id": "2fddec05d8ef9a3b",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 16,
        "width": 4,
        "height": 1
    },
    {
        "id": "7703a9cc8bdef952",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 17,
        "width": 10,
        "height": 1
    },
    {
        "id": "e837230c5bce3439",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "c80234f781ae44a3",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "846b028ed2e41acf",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "8c7a98564ba04595",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "5b5d30323185e2d5",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "8c7a98564ba04595",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "0ee2fbcecf45f0d9",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "8c7a98564ba04595",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "51a14d0773112647",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "8c7a98564ba04595",
        "order": 9,
        "width": 9,
        "height": 1
    },
    {
        "id": "458a6a8f50d2b6eb",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "8c7a98564ba04595",
        "order": 11,
        "width": 5,
        "height": 1
    },
    {
        "id": "b888f7d17b4fba9c",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "50a4f1bcfab2902c",
        "order": 3,
        "width": 9,
        "height": 1
    },
    {
        "id": "d5462e461c2d935e",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "50a4f1bcfab2902c",
        "order": 6,
        "width": 5,
        "height": 1
    },
    {
        "id": "05ff2ca47cb996f9",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "94964ecd11dac9e3",
        "order": 5,
        "width": 9,
        "height": 1
    },
    {
        "id": "77d2ff1a9493b311",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "94964ecd11dac9e3",
        "order": 7,
        "width": 5,
        "height": 1
    },
    {
        "id": "b2da8f8c3ccc6a64",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "f2fc9efefe67e228",
        "order": 4,
        "width": 7,
        "height": 1
    },
    {
        "id": "c5c40f13a78886e2",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "ee5333998294d8a2",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 6,
        "width": 4,
        "height": 1
    },
    {
        "id": "d9861aa2a99a7e2c",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "5f015fd5b70a72f7",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 9,
        "width": 2,
        "height": 1
    },
    {
        "id": "36ab4069a563651f",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 13,
        "width": 2,
        "height": 1
    },
    {
        "id": "c0ba64e58dde10d4",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 14,
        "width": 4,
        "height": 1
    },
    {
        "id": "d15f0830c5d012e0",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 16,
        "width": 4,
        "height": 1
    },
    {
        "id": "b393c8d0991a9748",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "db6b90317e3a0e44",
        "order": 18,
        "width": 7,
        "height": 1
    },
    {
        "id": "a02ef70b676bebe6",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "69e1226c24051699",
        "order": 1,
        "width": 9,
        "height": 1
    },
    {
        "id": "28e025fe490ba512",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "69e1226c24051699",
        "order": 2,
        "width": 3,
        "height": 1
    },
    {
        "id": "0eaa030b42579012",
        "type": "ui_spacer",
        "z": "6a634f37461e289e",
        "name": "spacer",
        "group": "69e1226c24051699",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "1a92fda9efeb32c4",
        "type": "change",
        "z": "32fe437973082b00",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 180,
        "wires": [
            [
                "95faa5fc89e9306a"
            ]
        ]
    },
    {
        "id": "7d65e96040f2e7b2",
        "type": "change",
        "z": "32fe437973082b00",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Create Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 140,
        "wires": [
            [
                "95faa5fc89e9306a"
            ]
        ]
    },
    {
        "id": "26aabfa808424c38",
        "type": "change",
        "z": "32fe437973082b00",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Follow Person\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 100,
        "wires": [
            [
                "95faa5fc89e9306a"
            ]
        ]
    },
    {
        "id": "d62e487afbb2febd",
        "type": "change",
        "z": "32fe437973082b00",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Auto Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 220,
        "wires": [
            [
                "95faa5fc89e9306a"
            ]
        ]
    },
    {
        "id": "aeaf863ce89dfadc",
        "type": "ui_button",
        "z": "32fe437973082b00",
        "name": "",
        "group": "da0ca243d2d46654",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn3",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 390,
        "y": 180,
        "wires": [
            [
                "1a92fda9efeb32c4"
            ]
        ]
    },
    {
        "id": "a7bf75696d1db534",
        "type": "ui_button",
        "z": "32fe437973082b00",
        "name": "",
        "group": "da0ca243d2d46654",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Create Path",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 390,
        "y": 140,
        "wires": [
            [
                "7d65e96040f2e7b2"
            ]
        ]
    },
    {
        "id": "aefefdf0d3fd4488",
        "type": "ui_button",
        "z": "32fe437973082b00",
        "name": "",
        "group": "da0ca243d2d46654",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Follow Person",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 380,
        "y": 100,
        "wires": [
            [
                "26aabfa808424c38"
            ]
        ]
    },
    {
        "id": "a45a76bddb4ab606",
        "type": "ui_button",
        "z": "32fe437973082b00",
        "name": "",
        "group": "da0ca243d2d46654",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Auto Path",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn4",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 380,
        "y": 220,
        "wires": [
            [
                "d62e487afbb2febd"
            ]
        ]
    },
    {
        "id": "95faa5fc89e9306a",
        "type": "ui_ui_control",
        "z": "32fe437973082b00",
        "name": "Home",
        "events": "all",
        "x": 790,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "41de0961cf1131f9",
        "type": "ui_template",
        "z": "32fe437973082b00",
        "group": "da0ca243d2d46654",
        "name": "",
        "order": 21,
        "width": 0,
        "height": 0,
        "format": "<style>\n/* ปุ่มที่ 1 - สีแดงเลือดหมู (ตามโค้ดเดิม) */\n.btn1>.md-button {\nborder-radius: 25px !important;\nbackground-color: #8B0000 !important; /* แก้จาก F44336 เป็นแดงเลือดหมู */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(139, 0, 0, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn1>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(139, 0, 0, 0.4) !important;\n}\n\n/* ปุ่มที่ 2 - สีน้ำเงินเข้ม */\n.btn2>.md-button {\nborder-radius: 25px !important;\nbackground-color: #1976D2 !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(25, 118, 210, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn2>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(25, 118, 210, 0.4) !important;\n}\n\n/* ปุ่มที่ 3 - สีเขียวเข้ม */\n.btn3>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2E7D32 !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(46, 125, 50, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn3>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(46, 125, 50, 0.4) !important;\n}\n\n/* ปุ่มที่ 4 - สีม่วงเข้ม */\n.btn4>.md-button {\nborder-radius: 25px !important;\nbackground-color: #7B1FA2 !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(123, 31, 162, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn4>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(123, 31, 162, 0.4) !important;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "57134065311c35cd",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Set Linear_vel",
        "func": "flow.set('linearSliderValue', msg.payload);  // ใช้ Flow Context แทน Global\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 180,
        "wires": [
            [
                "0febc9db4d93f6c0",
                "3e79f0c82315c339"
            ]
        ]
    },
    {
        "id": "c377c783729b68eb",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Negative_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 200,
        "wires": [
            [
                "760d16bd0d61168e"
            ]
        ]
    },
    {
        "id": "f3bdaf0db65a0cc8",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Positive_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue');  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 240,
        "wires": [
            [
                "659f4186bb376f0e"
            ]
        ]
    },
    {
        "id": "0c1148bee8d708da",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Negative_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n} \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 280,
        "wires": [
            [
                "659f4186bb376f0e"
            ]
        ]
    },
    {
        "id": "e02433220827cac7",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Set Angular_vel",
        "func": "flow.set('angularSliderValue', msg.payload);  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 260,
        "wires": [
            [
                "7dceaccc0d9fa62a",
                "6fc799f64a961b65"
            ]
        ]
    },
    {
        "id": "05910f5f153c06be",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Positive_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 160,
        "wires": [
            [
                "760d16bd0d61168e"
            ]
        ]
    },
    {
        "id": "760d16bd0d61168e",
        "type": "change",
        "z": "72813f1e3dcc0999",
        "name": "Linear_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 180,
        "wires": [
            [
                "218fbbb4b2909f20"
            ]
        ]
    },
    {
        "id": "659f4186bb376f0e",
        "type": "change",
        "z": "72813f1e3dcc0999",
        "name": "angular_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 260,
        "wires": [
            [
                "218fbbb4b2909f20"
            ]
        ]
    },
    {
        "id": "496304320d3e32b5",
        "type": "change",
        "z": "72813f1e3dcc0999",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 320,
        "wires": [
            [
                "218fbbb4b2909f20"
            ]
        ]
    },
    {
        "id": "6678e30dfdef5001",
        "type": "Publisher",
        "z": "72813f1e3dcc0999",
        "topic": "cmd_vel",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "geometry_msgs/Twist",
        "x": 1320,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "218fbbb4b2909f20",
        "type": "ROS2 Type",
        "z": "72813f1e3dcc0999",
        "ros2pkg": "geometry_msgs",
        "ros2message": "Twist",
        "x": 1120,
        "y": 260,
        "wires": [
            [
                "6678e30dfdef5001"
            ]
        ]
    },
    {
        "id": "2d9a74a0325f6d01",
        "type": "change",
        "z": "72813f1e3dcc0999",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Home\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 380,
        "wires": [
            [
                "935765ef6ae03ae9"
            ]
        ]
    },
    {
        "id": "dc6e2974dc1e39db",
        "type": "Publisher",
        "z": "72813f1e3dcc0999",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 1060,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "e5af2f3812c29e8f",
        "type": "ROS2 Type",
        "z": "72813f1e3dcc0999",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 860,
        "y": 80,
        "wires": [
            [
                "dc6e2974dc1e39db"
            ]
        ]
    },
    {
        "id": "b0a338849250f290",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "Promt Start",
        "func": "if (msg.bool == true){\n    msg.data = \"ros2 launch create_path save_path.launch.py\";  \n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch create_path save_path.launch.py\";   \n    return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 80,
        "wires": [
            [
                "e5af2f3812c29e8f"
            ]
        ]
    },
    {
        "id": "b517d36d30eb6a29",
        "type": "Subscriber",
        "z": "72813f1e3dcc0999",
        "topic": "show_list",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 330,
        "y": 480,
        "wires": [
            [
                "f5b5316369c4da2d"
            ]
        ]
    },
    {
        "id": "009b7d491cabef71",
        "type": "ROS2 Type",
        "z": "72813f1e3dcc0999",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 140,
        "y": 480,
        "wires": [
            [
                "b517d36d30eb6a29"
            ]
        ]
    },
    {
        "id": "f5b5316369c4da2d",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "data to payload",
        "func": "if(msg.data != \" \"){\n   msg.payload = msg.data\n    return msg;\n}\nelse{\n    return\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 480,
        "wires": [
            [
                "41a98b30127cc287"
            ]
        ]
    },
    {
        "id": "cf9c446f8d1bd148",
        "type": "function",
        "z": "72813f1e3dcc0999",
        "name": "data to payload",
        "func": "if(msg.payload.action == \"delete\"){\n   msg.data = String(msg.payload.index);\n    return msg;\n}\n\nif(msg.payload.action == \"save\"){\n   msg.data = String(msg.payload.data);\n    return msg;\n}\n\nelse{\n    return\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 480,
        "wires": [
            [
                "8583ddbad3fc3105"
            ]
        ]
    },
    {
        "id": "8583ddbad3fc3105",
        "type": "ROS2 Type",
        "z": "72813f1e3dcc0999",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 1020,
        "y": 480,
        "wires": [
            [
                "d4f11066ef1c6af4"
            ]
        ]
    },
    {
        "id": "d4f11066ef1c6af4",
        "type": "Publisher",
        "z": "72813f1e3dcc0999",
        "topic": "save_file",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 1200,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "11fdfd43c75331da",
        "type": "change",
        "z": "72813f1e3dcc0999",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Auto Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 420,
        "wires": [
            [
                "935765ef6ae03ae9"
            ]
        ]
    },
    {
        "id": "0febc9db4d93f6c0",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "up",
        "group": "6df59df74913e31c",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn3",
        "icon": "fa-arrow-up",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "05910f5f153c06be"
            ]
        ]
    },
    {
        "id": "3e79f0c82315c339",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "down",
        "group": "6df59df74913e31c",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn4",
        "icon": "fa-arrow-down",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 200,
        "wires": [
            [
                "c377c783729b68eb"
            ]
        ]
    },
    {
        "id": "32dbd40046367cc0",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "stop",
        "group": "6df59df74913e31c",
        "order": 11,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn7",
        "icon": "fa-stop",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 320,
        "wires": [
            [
                "496304320d3e32b5"
            ]
        ]
    },
    {
        "id": "6fc799f64a961b65",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "right",
        "group": "6df59df74913e31c",
        "order": 12,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn6",
        "icon": "fa-arrow-right",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 280,
        "wires": [
            [
                "0c1148bee8d708da"
            ]
        ]
    },
    {
        "id": "7dceaccc0d9fa62a",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "left",
        "group": "6df59df74913e31c",
        "order": 10,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn5",
        "icon": "fa-arrow-left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 240,
        "wires": [
            [
                "f3bdaf0db65a0cc8"
            ]
        ]
    },
    {
        "id": "00a1a4955cdd3f62",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "",
        "group": "6df59df74913e31c",
        "order": 18,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Back To Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 380,
        "wires": [
            [
                "2d9a74a0325f6d01"
            ]
        ]
    },
    {
        "id": "16a793555aaf8f92",
        "type": "ui_button",
        "z": "72813f1e3dcc0999",
        "name": "",
        "group": "6df59df74913e31c",
        "order": 20,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Auto Path",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 120,
        "y": 420,
        "wires": [
            [
                "11fdfd43c75331da"
            ]
        ]
    },
    {
        "id": "7bc9af37fa78caeb",
        "type": "ui_slider",
        "z": "72813f1e3dcc0999",
        "name": "",
        "label": "Linear Velocity",
        "tooltip": "",
        "group": "6df59df74913e31c",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.5",
        "step": "0.01",
        "className": "",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "1fc622f0aa318642",
                "57134065311c35cd"
            ]
        ]
    },
    {
        "id": "9c0594d43da9b7e6",
        "type": "ui_slider",
        "z": "72813f1e3dcc0999",
        "name": "",
        "label": "Augular Velocity",
        "tooltip": "",
        "group": "6df59df74913e31c",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.5",
        "step": "0.01",
        "className": "",
        "x": 100,
        "y": 260,
        "wires": [
            [
                "e02433220827cac7",
                "e0abacd0ae032e86"
            ]
        ]
    },
    {
        "id": "e0abacd0ae032e86",
        "type": "ui_gauge",
        "z": "72813f1e3dcc0999",
        "name": "",
        "group": "6df59df74913e31c",
        "order": 2,
        "width": 5,
        "height": 3,
        "gtype": "gage",
        "title": "Augular Velocity",
        "label": "rad/s ",
        "format": "{{value}}",
        "min": 0,
        "max": "0.5",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 300,
        "y": 300,
        "wires": []
    },
    {
        "id": "1fc622f0aa318642",
        "type": "ui_gauge",
        "z": "72813f1e3dcc0999",
        "name": "",
        "group": "6df59df74913e31c",
        "order": 1,
        "width": 5,
        "height": 3,
        "gtype": "gage",
        "title": "Linear Velocity",
        "label": "m/s²",
        "format": "{{value}}",
        "min": 0,
        "max": "0.5",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 300,
        "y": 140,
        "wires": []
    },
    {
        "id": "935765ef6ae03ae9",
        "type": "ui_ui_control",
        "z": "72813f1e3dcc0999",
        "name": "",
        "events": "all",
        "x": 520,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "84be8146e18cae40",
        "type": "ui_template",
        "z": "72813f1e3dcc0999",
        "group": "6df59df74913e31c",
        "name": "",
        "order": 21,
        "width": 0,
        "height": 0,
        "format": "<style>\n/* ปุ่มที่ 1 - สีเทา */\n.btn1>.md-button {\nborder-radius: 25px !important;\nbackground-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn1>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n}\n\n/* ปุ่มที่ 2 - คงเดิม */\n.btn2>.md-button {\nborder-radius: 25px !important;\nbackground-color: #F44336 !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(244, 67, 54, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn2>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(244, 67, 54, 0.4) !important;\n}\n\n/* ปุ่มควบคุมหุ่นยนต์ - ทั้งหมดใช้สีฟ้าเหมือนกัน */\n/* ปุ่มเดินหน้า */\n.btn3>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn3>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มถอยหลัง */\n.btn4>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn4>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวซ้าย */\n.btn5>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn5>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวขวา */\n.btn6>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn6>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มหยุด */\n.btn7>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn7>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มที่ 8 - สีน้ำเงินเข้ม */\n.btn8>.md-button {\nborder-radius: 25px !important;\nbackground-color: #1E3A8A !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(30, 58, 138, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n\n.btn8>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(30, 58, 138, 0.4) !important;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "4009e9a39c8cabfc",
        "type": "ui_template",
        "z": "72813f1e3dcc0999",
        "group": "c864ad556ce2bc22",
        "name": "start-stop",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn8\" class=\"custom-control-btn\" ng-click=\"toggle8()\" ng-style=\"{\n    'background-color': button8State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button8State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button8State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button8Id = 'controlBtn8';\n    var storage8Key = 'button8_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button8State = localStorage.getItem(storage8Key) === 'true' ? true : false;\n    \n    scope.toggle8 = function() {\n        scope.button8State = !scope.button8State;\n        var msg = { \n            bool: scope.button8State,\n            buttonId: 'button8'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage8Key, scope.button8State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "b0a338849250f290"
            ]
        ]
    },
    {
        "id": "41a98b30127cc287",
        "type": "ui_template",
        "z": "72813f1e3dcc0999",
        "group": "c864ad556ce2bc22",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"table-container\" ng-init=\"init()\">\n    <style>\n        :root {\n            --primary-color: #3498db;\n            --primary-hover: #2980b9;\n            --secondary-color: #2ecc71;\n            --secondary-hover: #27ae60;\n            --danger-color: #e74c3c;\n            --danger-hover: #c0392b;\n            --bg-color: transparent;\n            --card-bg: #ffffff;\n            --text-color: #34495e;\n            --border-color: #dfe6e9;\n            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n            --hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n            --border-radius: 10px;\n        }\n\n        .dashboard-container {\n            font-family: 'Prompt', 'Kanit', sans-serif;\n            background-color: transparent;\n            padding: 25px;\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n            color: var(--text-color);\n            max-width: 98%;\n            margin: 0 auto;\n            transition: all 0.3s ease;\n        }\n\n        .dashboard-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 25px;\n            padding-bottom: 15px;\n            border-bottom: 2px solid var(--primary-color);\n        }\n\n        .dashboard-title {\n            font-size: 26px;\n            font-weight: 600;\n            color: var(--primary-color);\n            margin: 0;\n            letter-spacing: 0.5px;\n        }\n\n        .data-card {\n            background-color: var(--card-bg);\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n            overflow: hidden;\n            transition: all 0.3s ease;\n            margin-bottom: 25px;\n        }\n\n        .data-card:hover {\n            box-shadow: var(--hover-shadow);\n            transform: translateY(-2px);\n        }\n\n        .data-table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        .data-table th {\n            background-color: var(--primary-color);\n            color: white;\n            padding: 15px 20px;\n            text-align: left;\n            font-weight: 500;\n            font-size: 16px;\n            letter-spacing: 0.5px;\n        }\n\n        .data-table th:first-child {\n            border-top-left-radius: 8px;\n        }\n\n        .data-table th:last-child {\n            border-top-right-radius: 8px;\n            text-align: center;\n        }\n\n        .data-table td {\n            padding: 14px 20px;\n            border-bottom: 1px solid var(--border-color);\n            font-size: 15px;\n        }\n\n        .data-table tr:last-child td {\n            border-bottom: none;\n        }\n\n        .data-table tr:nth-child(even) {\n            background-color: rgba(236, 240, 241, 0.5);\n        }\n\n        .data-table tr:hover {\n            background-color: rgba(52, 152, 219, 0.08);\n        }\n\n        .action-column {\n            text-align: center;\n        }\n\n        .action-button {\n            padding: 8px 16px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-weight: 500;\n            font-size: 14px;\n            transition: all 0.2s ease;\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n        }\n\n        .delete-btn {\n            background-color: var(--danger-color);\n            color: white;\n        }\n\n        .delete-btn:hover {\n            background-color: var(--danger-hover);\n            transform: translateY(-2px);\n            box-shadow: 0 4px 8px rgba(231, 76, 60, 0.3);\n        }\n\n        .save-button-container {\n            display: flex;\n            justify-content: flex-end;\n            margin-top: 10px;\n        }\n\n        .save-btn {\n            background-color: var(--secondary-color);\n            color: white;\n            padding: 12px 24px;\n            font-size: 16px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 8px rgba(46, 204, 113, 0.3);\n            font-weight: 500;\n            letter-spacing: 0.5px;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n\n        .save-btn:hover {\n            background-color: var(--secondary-hover);\n            transform: translateY(-3px);\n            box-shadow: 0 6px 12px rgba(46, 204, 113, 0.4);\n        }\n\n        .save-btn:active {\n            transform: translateY(-1px);\n        }\n\n        .save-icon {\n            display: inline-block;\n            width: 18px;\n            height: 18px;\n        }\n\n        .empty-state {\n            text-align: center;\n            padding: 40px 20px;\n            color: #7f8c8d;\n            background-color: var(--card-bg);\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n        }\n\n        .empty-state-icon {\n            font-size: 48px;\n            margin-bottom: 15px;\n            color: #bdc3c7;\n        }\n\n        .empty-state-text {\n            font-size: 18px;\n            margin: 0;\n        }\n\n        .toast-notification {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background-color: var(--secondary-color);\n            color: white;\n            padding: 15px 25px;\n            border-radius: 8px;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n            z-index: 1000;\n            opacity: 0;\n            transform: translateY(-20px);\n            transition: opacity 0.3s ease, transform 0.3s ease;\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n\n        .toast-notification.show {\n            opacity: 1;\n            transform: translateY(0);\n        }\n\n        .toast-icon {\n            font-size: 20px;\n        }\n\n        .toast-message {\n            font-weight: 500;\n        }\n\n        .badge {\n            display: inline-block;\n            padding: 6px 12px;\n            border-radius: 50px;\n            font-size: 14px;\n            font-weight: 600;\n            margin-left: 10px;\n        }\n\n        .badge-number {\n            background-color: var(--primary-color);\n            color: white;\n            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);\n        }\n\n        .header-content {\n            display: flex;\n            align-items: center;\n        }\n\n        .header-right {\n            display: flex;\n            align-items: center;\n        }\n\n        .data-count {\n            background-color: var(--primary-color);\n            color: white;\n            border-radius: 50px;\n            padding: 6px 14px;\n            font-size: 15px;\n            font-weight: 600;\n            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);\n        }\n    </style>\n\n    <div class=\"dashboard-container\">\n        <div class=\"dashboard-header\">\n            <h2 class=\"dashboard-title\">\n                <i class=\"fa fa-table\" ng-if=\"false\"></i> ข้อมูลตำแหน่ง\n            </h2>\n            <div class=\"header-right\" ng-if=\"dataItems.length > 0\">\n                <div class=\"data-count\">{{dataItems.length}} จุด</div>\n            </div>\n        </div>\n\n        <div class=\"data-card\" ng-if=\"dataItems.length > 0\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th style=\"width: 15%;\">Index</th>\n                        <th style=\"width: 35%;\">X</th>\n                        <th style=\"width: 35%;\">Y</th>\n                        <th style=\"width: 15%;\">การจัดการ</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat=\"item in dataItems\">\n                        <td>{{item.index}}</td>\n                        <td>{{item.x}}</td>\n                        <td>{{item.y}}</td>\n                        <td class=\"action-column\">\n                            <button class=\"action-button delete-btn\" ng-click=\"deleteItem(item)\">ลบ</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div class=\"empty-state\" ng-if=\"dataItems.length == 0\">\n            <div class=\"empty-state-icon\">⚠️</div>\n            <p class=\"empty-state-text\">ไม่มีข้อมูลในระบบ</p>\n        </div>\n\n        <div class=\"save-button-container\">\n            <button class=\"save-btn\" ng-click=\"saveAllData()\">\n                <span class=\"save-icon\">💾</span> บันทึกข้อมูล\n            </button>\n        </div>\n\n        <div class=\"toast-notification\" ng-class=\"{'show': showSuccess}\">\n            <span class=\"toast-icon\">✓</span>\n            <span class=\"toast-message\">บันทึกข้อมูลเรียบร้อยแล้ว</span>\n        </div>\n    </div>\n\n    <script>\n        (function(scope) {\n            scope.init = function() {\n                scope.dataItems = [];\n                scope.showSuccess = false;\n                \n                // รับข้อมูลจาก msg.payload\n                scope.$watch('msg.payload', function(newValue) {\n                    if (newValue) {\n                        try {\n                            // แปลง JSON string เป็น array\n                            if (typeof newValue === 'string') {\n                                scope.dataItems = JSON.parse(newValue);\n                            } else if (Array.isArray(newValue)) {\n                                scope.dataItems = newValue;\n                            }\n                        } catch (e) {\n                            console.error(\"Error parsing JSON:\", e);\n                        }\n                    }\n                });\n            };\n            \n            // ลบข้อมูล\n            scope.deleteItem = function(item) {\n                if (confirm(\"คุณต้องการลบข้อมูลนี้หรือไม่?\")) {\n                    var index = scope.dataItems.findIndex(i => i.index === item.index);\n                    if (index > -1) {\n                        var deletedIndex = item.index;\n                        scope.dataItems.splice(index, 1);\n                        \n                        // อัพเดต index หลังจากลบ\n                        for (var i = 0; i < scope.dataItems.length; i++) {\n                            scope.dataItems[i].index = i;\n                        }\n                        \n                        // ส่งค่า index ที่ถูกลบไปยัง Node-RED\n                        var msg = { \n                            payload: {\n                                action: \"delete\",\n                                index: deletedIndex\n                            }\n                        };\n                        scope.send(msg);\n                    }\n                }\n            };\n            \n            // บันทึกข้อมูลทั้งหมด\n            scope.saveAllData = function() {\n                // ส่งค่า true ไปยัง Node-RED\n                var msg = { \n                    payload: {\n                        action: \"save\",\n                        data: true,\n                        items: scope.dataItems\n                    }\n                };\n                scope.send(msg);\n                \n                // แสดงข้อความยืนยันการบันทึก\n                scope.showSuccess = true;\n                setTimeout(function() {\n                    scope.showSuccess = false;\n                    scope.$apply();\n                }, 3000);\n            };\n        })(scope);\n    </script>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 680,
        "y": 480,
        "wires": [
            [
                "cf9c446f8d1bd148"
            ]
        ]
    },
    {
        "id": "c5aa4e47df8851bb",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 240,
        "y": 480,
        "wires": [
            [
                "87c0225006149b84"
            ]
        ]
    },
    {
        "id": "87c0225006149b84",
        "type": "Subscriber",
        "z": "e84628502f1c10c8",
        "topic": "camera/base64_image",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 450,
        "y": 480,
        "wires": [
            [
                "b3ba9d059a393225"
            ]
        ]
    },
    {
        "id": "b3ba9d059a393225",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "function 12",
        "func": "msg.payload = Buffer.from(msg.data, 'base64');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 480,
        "wires": [
            [
                "19d7faf9a3590acc"
            ]
        ]
    },
    {
        "id": "19d7faf9a3590acc",
        "type": "jimp-image",
        "z": "e84628502f1c10c8",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "payload",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 790,
        "y": 480,
        "wires": [
            [
                "01f795770e18beba"
            ]
        ]
    },
    {
        "id": "d158ca7f1a460d82",
        "type": "change",
        "z": "e84628502f1c10c8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Home\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 120,
        "wires": [
            [
                "d97ffcb874309432"
            ]
        ]
    },
    {
        "id": "a1d1ddc2b07f0d71",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "Promt Start",
        "func": "var person_name = flow.get(\"name\");  \n\nif (msg.bool == true){\n    msg.data = \"ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n        return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 320,
        "wires": [
            [
                "49ab04d66f913892"
            ]
        ]
    },
    {
        "id": "0de2d97d1c59a154",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "set name",
        "func": "var personName = msg.payload.person;\nflow.set('name', personName);  \nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "027257111dc2f3f1",
        "type": "Publisher",
        "z": "e84628502f1c10c8",
        "topic": "pause",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 840,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "a89a28a5b49e6464",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 640,
        "y": 400,
        "wires": [
            [
                "027257111dc2f3f1"
            ]
        ]
    },
    {
        "id": "0383e2e79f79bc62",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "pause/resume",
        "func": "if (!msg.payload){\n    msg.data = \"pause\"\n}\n\nelse{\n    msg.data = \"running\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 400,
        "wires": [
            [
                "a89a28a5b49e6464"
            ]
        ]
    },
    {
        "id": "00cf14ac6baebfa9",
        "type": "Publisher",
        "z": "e84628502f1c10c8",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 780,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "49ab04d66f913892",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 580,
        "y": 320,
        "wires": [
            [
                "00cf14ac6baebfa9"
            ]
        ]
    },
    {
        "id": "4ef1065d787e90c2",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 240,
        "y": 560,
        "wires": [
            [
                "57dd2a9c9d954af0"
            ]
        ]
    },
    {
        "id": "57dd2a9c9d954af0",
        "type": "Subscriber",
        "z": "e84628502f1c10c8",
        "topic": "status_follow_me",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 470,
        "y": 560,
        "wires": [
            [
                "2e0d91afc2cd37b0"
            ]
        ]
    },
    {
        "id": "2e0d91afc2cd37b0",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "function 13",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 560,
        "wires": [
            [
                "710df76d9ca4fab6"
            ]
        ]
    },
    {
        "id": "d7f14bf2caa21e13",
        "type": "ui_button",
        "z": "e84628502f1c10c8",
        "name": "",
        "group": "1727d516f28c9df5",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Back To Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 480,
        "y": 120,
        "wires": [
            [
                "d158ca7f1a460d82"
            ]
        ]
    },
    {
        "id": "710df76d9ca4fab6",
        "type": "ui_text",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 830,
        "y": 560,
        "wires": []
    },
    {
        "id": "d97ffcb874309432",
        "type": "ui_ui_control",
        "z": "e84628502f1c10c8",
        "name": "",
        "events": "all",
        "x": 860,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "01f795770e18beba",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<!DOCTYPE html>\n<html>\n\n<head>\n    <style>\n        .camera-container {\n            background: #f5f5f5;\n            padding: 12px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            text-align: center;\n            max-width: 264px;\n            margin: 0 auto;\n        }\n\n        .title {\n            font-family: Arial, sans-serif;\n            color: #333;\n            font-size: 18px;\n            margin-bottom: 8px;\n            font-weight: bold;\n        }\n\n        .camera-frame {\n            position: relative;\n            background: #fff;\n            padding: 4px;\n            border-radius: 6px;\n            border: 1px solid #ddd;\n            overflow: hidden;\n        }\n\n        .camera-image {\n            width: 240px;\n            height: 160px;\n            object-fit: cover;\n            border-radius: 4px;\n            display: block;\n        }\n\n        .placeholder {\n            display: none;\n            width: 240px;\n            height: 160px;\n            background: #f8f9fa;\n            content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 240 160'%3E%3Crect width='240' height='160' fill='%23f8f9fa'/%3E%3Cpath d='M120 60c-16.5 0-30 13.5-30 30s13.5 30 30 30 30-13.5 30-30-13.5-30-30-30zm0 50c-11 0-20-9-20-20s9-20 20-20 20 9 20 20-9 20-20 20z' fill='%23dee2e6'/%3E%3Ccircle cx='120' cy='90' r='10' fill='%23dee2e6'/%3E%3Cpath d='M170 40h-20l-5-10H95l-5 10H70c-5.5 0-10 4.5-10 10v80c0 5.5 4.5 10 10 10h100c5.5 0 10-4.5 10-10V50c0-5.5-4.5-10-10-10z' fill='none' stroke='%23dee2e6' stroke-width='4'/%3E%3C/svg%3E\");\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"camera-container\">\n        <div class=\"title\">Camera Monitor</div>\n        <div class=\"camera-frame\">\n            <img class=\"camera-image\" src=\"{{msg.payload}}\" alt=\"Camera Feed\">\n            <img class=\"placeholder\" alt=\"No Camera Feed\">\n        </div>\n    </div>\n\n    <script>\n        (function(scope) {\n            let lastUpdate = Date.now();\n            const cameraImage = document.querySelector('.camera-image');\n            const placeholder = document.querySelector('.placeholder');\n            \n            // ตรวจสอบการอัพเดทภาพ\n            cameraImage.onload = function() {\n                lastUpdate = Date.now();\n                cameraImage.style.display = 'block';\n                placeholder.style.display = 'none';\n            };\n\n            // ตรวจสอบทุก 1 วินาที\n            setInterval(() => {\n                if (Date.now() - lastUpdate > 2000) { // ถ้าไม่มีภาพใหม่เกิน 2 วินาที\n                    cameraImage.style.display = 'none';\n                    placeholder.style.display = 'block';\n                }\n            }, 1000);\n\n            // เพิ่มการจัดการเมื่อมีการ scope.send\n            if (scope) {\n                const originalSend = scope.send;\n                scope.send = function(msg) {\n                    lastUpdate = Date.now();\n                    originalSend.apply(this, arguments);\n                };\n            }\n        })(scope);\n    </script>\n</body>\n\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 940,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "ee5e02eb44d2517c",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "name": "start-stop",
        "order": 4,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn10\" class=\"custom-control-btn\" ng-click=\"toggle10()\" ng-style=\"{\n    'background-color': button10State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button10State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button10State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button10Id = 'controlBtn10';\n    var storage10Key = 'button10_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button10State = localStorage.getItem(storage10Key) === 'true' ? true : false;\n    \n    scope.toggle10 = function() {\n        scope.button10State = !scope.button10State;\n        var msg = { \n            bool: scope.button10State,\n            buttonId: 'button10'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage10Key, scope.button10State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 220,
        "y": 320,
        "wires": [
            [
                "a1d1ddc2b07f0d71"
            ]
        ]
    },
    {
        "id": "20946b2ee13b711f",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "name": "person name",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-simple\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Choose a person name</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {person: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"personNameSimple\">Person Name:</label>\n                    <input type=\"text\" id=\"personNameSimple\" ng-model=\"formData.person\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Unique scoped styles for the simple form */\n    .workspace-config-simple .card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n    max-width: 500px;\n    overflow: hidden;\n    margin: 3px auto;\n    }\n\n    .workspace-config-simple .card-header {\n        padding: 10px 20px;\n        text-align: center;\n        border-radius: 8px;\n    }\n\n    .workspace-config-simple .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-simple .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-simple label {\n    color: #333;\n    font-size: 16px;\n    font-weight: 500;\n    display: block;\n    margin-bottom: 8px;\n    transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    \n    .workspace-config-simple input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-simple .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-simple .bar:before,\n    .workspace-config-simple .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-simple .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-simple input:focus~.bar:before,\n    .workspace-config-simple input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-simple .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-simple input:focus~.highlight {\n        animation: inputHighlighterSimple 0.3s ease;\n    }\n\n    @keyframes inputHighlighterSimple {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-simple .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-simple .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-simple .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-simple .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-simple .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 230,
        "y": 200,
        "wires": [
            [
                "0de2d97d1c59a154"
            ]
        ]
    },
    {
        "id": "9478a9a8aaf6f03e",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "name": "",
        "order": 12,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    .text1 {\n    /* ฟอนต์และการจัดวาง */\n    font-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n    letter-spacing: 0.3px;\n    \n    /* สีและพื้นหลัง */\n    color: #2c3e50;\n    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n    \n    /* การจัดวางและขอบ */\n    padding: 15px 20px;\n    margin: 10px 0;\n    border-radius: 12px;\n    border: 2px solid #000;\n    border-style: double;\n    \n    /* ตกแต่งขอบมุม */\n    position: relative;\n    \n    /* เงาและ depth effect */\n    box-shadow: 0 4px 15px rgba(0,0,0,0.08),\n    0 1px 3px rgba(0,0,0,0.05);\n    \n    /* การเปลี่ยนแปลงแบบ smooth */\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    \n    /* เพิ่มความน่าสนใจ */\n    overflow: hidden;\n    }\n    \n    /* Effect เมื่อ hover */\n    .text1:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15),\n    0 2px 5px rgba(0,0,0,0.1);\n    border-color: #2ecc71;\n    background: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n    }\n    \n    /* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n    .text1::before {\n    content: '🤖';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    font-size: 16px;\n    }\n    \n    .text1::after {\n    content: '🤖';\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n    font-size: 16px;\n    }\n    \n    /* สไตล์เมื่อเลือกข้อความ */\n    .text1::selection {\n    background-color: #ffd1dc;\n    color: #ff69b4;\n    }\n    \n    /* animation เมื่อ element ปรากฎ */\n    @keyframes slideIn {\n    from {\n    opacity: 0;\n    transform: translateY(10px);\n    }\n    to {\n    opacity: 1;\n    transform: translateY(0);\n    }\n    }\n    \n    .text1 {\n    animation: slideIn 0.5s ease-out forwards;\n    }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 220,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "01986fcedb7339ae",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1727d516f28c9df5",
        "name": "pause-resume",
        "order": 6,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-toggle-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-toggle-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-toggle-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"pauseResumeBtn1\" class=\"custom-toggle-btn\" ng-click=\"toggle1PauseResume()\" ng-style=\"{\n'background-color': pauseResumeState1 ? '#4CAF50' : '#f44336',\n'color': 'white'\n }\">\n        <i class=\"icon\" ng-class=\"pauseResumeState1 ? 'fa fa-pause' : 'fa fa-play'\"></i>\n        {{pauseResumeState1 ? 'Pause' : 'Resume'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\nvar pauseResumeBtn1Id = 'pauseResumeBtn1';\nvar pauseResumeStorageKey1 = 'pauseResume1_state';\n\nscope.pauseResumeState1 = localStorage.getItem(pauseResumeStorageKey1) === 'false' ? false : true;\n\nscope.toggle1PauseResume = function() {\n    scope.pauseResumeState1 = !scope.pauseResumeState1;\n    \n    var msg = {\n        payload: scope.pauseResumeState1 ? \"resume\" : \"pause\",\n        buttonId: 'pauseResumeBtn1' \n    };\n    \n    scope.send(msg);\n    \n    localStorage.setItem(pauseResumeStorageKey1, scope.pauseResumeState1);\n};\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 240,
        "y": 400,
        "wires": [
            [
                "0383e2e79f79bc62"
            ]
        ]
    },
    {
        "id": "72dd236440c67ef8",
        "type": "Subscriber",
        "z": "e84628502f1c10c8",
        "topic": "show_list",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 290,
        "y": 640,
        "wires": [
            [
                "617bc5ea990ceb8f"
            ]
        ]
    },
    {
        "id": "7666e7d084a12087",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 100,
        "y": 640,
        "wires": [
            [
                "72dd236440c67ef8"
            ]
        ]
    },
    {
        "id": "617bc5ea990ceb8f",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "data to payload",
        "func": "if(msg.data != \" \"){\n   msg.payload = msg.data\n    return msg;\n}\nelse{\n    return\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 640,
        "wires": [
            [
                "887a4d217b7fb383"
            ]
        ]
    },
    {
        "id": "8aee6caaa91c9844",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "data to payload",
        "func": "if(msg.payload.action == \"delete\"){\n   msg.data = String(msg.payload.index);\n    return msg;\n}\n\nif(msg.payload.action == \"save\"){\n   msg.data = String(msg.payload.data);\n    return msg;\n}\n\nelse{\n    return\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 640,
        "wires": [
            [
                "bef4dbfc4d109c12"
            ]
        ]
    },
    {
        "id": "bef4dbfc4d109c12",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 980,
        "y": 640,
        "wires": [
            [
                "b0c2e1eac7b6f166"
            ]
        ]
    },
    {
        "id": "b0c2e1eac7b6f166",
        "type": "Publisher",
        "z": "e84628502f1c10c8",
        "topic": "save_file",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 1160,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "887a4d217b7fb383",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1ab879ca01986b6a",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div id=\"table-container\" ng-init=\"init()\">\n    <style>\n        :root {\n            --primary-color: #3498db;\n            --primary-hover: #2980b9;\n            --secondary-color: #2ecc71;\n            --secondary-hover: #27ae60;\n            --danger-color: #e74c3c;\n            --danger-hover: #c0392b;\n            --bg-color: transparent;\n            --card-bg: #ffffff;\n            --text-color: #34495e;\n            --border-color: #dfe6e9;\n            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n            --hover-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n            --border-radius: 10px;\n        }\n\n        .dashboard-container {\n            font-family: 'Prompt', 'Kanit', sans-serif;\n            background-color: transparent;\n            padding: 25px;\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n            color: var(--text-color);\n            max-width: 98%;\n            margin: 0 auto;\n            transition: all 0.3s ease;\n        }\n\n        .dashboard-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 25px;\n            padding-bottom: 15px;\n            border-bottom: 2px solid var(--primary-color);\n        }\n\n        .dashboard-title {\n            font-size: 26px;\n            font-weight: 600;\n            color: var(--primary-color);\n            margin: 0;\n            letter-spacing: 0.5px;\n        }\n\n        .data-card {\n            background-color: var(--card-bg);\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n            overflow: hidden;\n            transition: all 0.3s ease;\n            margin-bottom: 25px;\n        }\n\n        .data-card:hover {\n            box-shadow: var(--hover-shadow);\n            transform: translateY(-2px);\n        }\n\n        .data-table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        .data-table th {\n            background-color: var(--primary-color);\n            color: white;\n            padding: 15px 20px;\n            text-align: left;\n            font-weight: 500;\n            font-size: 16px;\n            letter-spacing: 0.5px;\n        }\n\n        .data-table th:first-child {\n            border-top-left-radius: 8px;\n        }\n\n        .data-table th:last-child {\n            border-top-right-radius: 8px;\n            text-align: center;\n        }\n\n        .data-table td {\n            padding: 14px 20px;\n            border-bottom: 1px solid var(--border-color);\n            font-size: 15px;\n        }\n\n        .data-table tr:last-child td {\n            border-bottom: none;\n        }\n\n        .data-table tr:nth-child(even) {\n            background-color: rgba(236, 240, 241, 0.5);\n        }\n\n        .data-table tr:hover {\n            background-color: rgba(52, 152, 219, 0.08);\n        }\n\n        .action-column {\n            text-align: center;\n        }\n\n        .action-button {\n            padding: 8px 16px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-weight: 500;\n            font-size: 14px;\n            transition: all 0.2s ease;\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n        }\n\n        .delete-btn {\n            background-color: var(--danger-color);\n            color: white;\n        }\n\n        .delete-btn:hover {\n            background-color: var(--danger-hover);\n            transform: translateY(-2px);\n            box-shadow: 0 4px 8px rgba(231, 76, 60, 0.3);\n        }\n\n        .save-button-container {\n            display: flex;\n            justify-content: flex-end;\n            margin-top: 10px;\n        }\n\n        .save-btn {\n            background-color: var(--secondary-color);\n            color: white;\n            padding: 12px 24px;\n            font-size: 16px;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            box-shadow: 0 4px 8px rgba(46, 204, 113, 0.3);\n            font-weight: 500;\n            letter-spacing: 0.5px;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n\n        .save-btn:hover {\n            background-color: var(--secondary-hover);\n            transform: translateY(-3px);\n            box-shadow: 0 6px 12px rgba(46, 204, 113, 0.4);\n        }\n\n        .save-btn:active {\n            transform: translateY(-1px);\n        }\n\n        .save-icon {\n            display: inline-block;\n            width: 18px;\n            height: 18px;\n        }\n\n        .empty-state {\n            text-align: center;\n            padding: 40px 20px;\n            color: #7f8c8d;\n            background-color: var(--card-bg);\n            border-radius: var(--border-radius);\n            box-shadow: var(--shadow);\n        }\n\n        .empty-state-icon {\n            font-size: 48px;\n            margin-bottom: 15px;\n            color: #bdc3c7;\n        }\n\n        .empty-state-text {\n            font-size: 18px;\n            margin: 0;\n        }\n\n        .toast-notification {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background-color: var(--secondary-color);\n            color: white;\n            padding: 15px 25px;\n            border-radius: 8px;\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n            z-index: 1000;\n            opacity: 0;\n            transform: translateY(-20px);\n            transition: opacity 0.3s ease, transform 0.3s ease;\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n\n        .toast-notification.show {\n            opacity: 1;\n            transform: translateY(0);\n        }\n\n        .toast-icon {\n            font-size: 20px;\n        }\n\n        .toast-message {\n            font-weight: 500;\n        }\n\n        .badge {\n            display: inline-block;\n            padding: 6px 12px;\n            border-radius: 50px;\n            font-size: 14px;\n            font-weight: 600;\n            margin-left: 10px;\n        }\n\n        .badge-number {\n            background-color: var(--primary-color);\n            color: white;\n            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);\n        }\n\n        .header-content {\n            display: flex;\n            align-items: center;\n        }\n\n        .header-right {\n            display: flex;\n            align-items: center;\n        }\n\n        .data-count {\n            background-color: var(--primary-color);\n            color: white;\n            border-radius: 50px;\n            padding: 6px 14px;\n            font-size: 15px;\n            font-weight: 600;\n            box-shadow: 0 2px 5px rgba(52, 152, 219, 0.3);\n        }\n    </style>\n\n    <div class=\"dashboard-container\">\n        <div class=\"dashboard-header\">\n            <h2 class=\"dashboard-title\">\n                <i class=\"fa fa-table\" ng-if=\"false\"></i> ข้อมูลตำแหน่ง\n            </h2>\n            <div class=\"header-right\" ng-if=\"dataItems.length > 0\">\n                <div class=\"data-count\">{{dataItems.length}} จุด</div>\n            </div>\n        </div>\n\n        <div class=\"data-card\" ng-if=\"dataItems.length > 0\">\n            <table class=\"data-table\">\n                <thead>\n                    <tr>\n                        <th style=\"width: 15%;\">Index</th>\n                        <th style=\"width: 35%;\">X</th>\n                        <th style=\"width: 35%;\">Y</th>\n                        <th style=\"width: 15%;\">การจัดการ</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat=\"item in dataItems\">\n                        <td>{{item.index}}</td>\n                        <td>{{item.x}}</td>\n                        <td>{{item.y}}</td>\n                        <td class=\"action-column\">\n                            <button class=\"action-button delete-btn\" ng-click=\"deleteItem(item)\">ลบ</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div class=\"empty-state\" ng-if=\"dataItems.length == 0\">\n            <div class=\"empty-state-icon\">⚠️</div>\n            <p class=\"empty-state-text\">ไม่มีข้อมูลในระบบ</p>\n        </div>\n\n        <div class=\"save-button-container\">\n            <button class=\"save-btn\" ng-click=\"saveAllData()\">\n                <span class=\"save-icon\">💾</span> บันทึกข้อมูล\n            </button>\n        </div>\n\n        <div class=\"toast-notification\" ng-class=\"{'show': showSuccess}\">\n            <span class=\"toast-icon\">✓</span>\n            <span class=\"toast-message\">บันทึกข้อมูลเรียบร้อยแล้ว</span>\n        </div>\n    </div>\n\n    <script>\n        (function(scope) {\n            scope.init = function() {\n                scope.dataItems = [];\n                scope.showSuccess = false;\n                \n                // รับข้อมูลจาก msg.payload\n                scope.$watch('msg.payload', function(newValue) {\n                    if (newValue) {\n                        try {\n                            // แปลง JSON string เป็น array\n                            if (typeof newValue === 'string') {\n                                scope.dataItems = JSON.parse(newValue);\n                            } else if (Array.isArray(newValue)) {\n                                scope.dataItems = newValue;\n                            }\n                        } catch (e) {\n                            console.error(\"Error parsing JSON:\", e);\n                        }\n                    }\n                });\n            };\n            \n            // ลบข้อมูล\n            scope.deleteItem = function(item) {\n                if (confirm(\"คุณต้องการลบข้อมูลนี้หรือไม่?\")) {\n                    var index = scope.dataItems.findIndex(i => i.index === item.index);\n                    if (index > -1) {\n                        var deletedIndex = item.index;\n                        scope.dataItems.splice(index, 1);\n                        \n                        // อัพเดต index หลังจากลบ\n                        for (var i = 0; i < scope.dataItems.length; i++) {\n                            scope.dataItems[i].index = i;\n                        }\n                        \n                        // ส่งค่า index ที่ถูกลบไปยัง Node-RED\n                        var msg = { \n                            payload: {\n                                action: \"delete\",\n                                index: deletedIndex\n                            }\n                        };\n                        scope.send(msg);\n                    }\n                }\n            };\n            \n            // บันทึกข้อมูลทั้งหมด\n            scope.saveAllData = function() {\n                // ส่งค่า true ไปยัง Node-RED\n                var msg = { \n                    payload: {\n                        action: \"save\",\n                        data: true,\n                        items: scope.dataItems\n                    }\n                };\n                scope.send(msg);\n                \n                // แสดงข้อความยืนยันการบันทึก\n                scope.showSuccess = true;\n                setTimeout(function() {\n                    scope.showSuccess = false;\n                    scope.$apply();\n                }, 3000);\n            };\n        })(scope);\n    </script>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 640,
        "y": 640,
        "wires": [
            [
                "8aee6caaa91c9844"
            ]
        ]
    },
    {
        "id": "82842c47011b0a42",
        "type": "Publisher",
        "z": "e84628502f1c10c8",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 660,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "52bfd11c70534ee2",
        "type": "ROS2 Type",
        "z": "e84628502f1c10c8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 460,
        "y": 720,
        "wires": [
            [
                "82842c47011b0a42"
            ]
        ]
    },
    {
        "id": "e66844561ce0cf23",
        "type": "function",
        "z": "e84628502f1c10c8",
        "name": "Promt Start",
        "func": "if (msg.bool == true){\n    msg.data = \"ros2 launch create_path save_path.launch.py\";  \n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch create_path save_path.launch.py\";   \n    return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 720,
        "wires": [
            [
                "52bfd11c70534ee2"
            ]
        ]
    },
    {
        "id": "b161b03a615936e3",
        "type": "ui_template",
        "z": "e84628502f1c10c8",
        "group": "1ab879ca01986b6a",
        "name": "start-stop",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn11\" class=\"custom-control-btn\" ng-click=\"toggle11()\" ng-style=\"{\n    'background-color': button11State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button11State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button11State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button11Id = 'controlBtn11';\n    var storage11Key = 'button11_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button11State = localStorage.getItem(storage11Key) === 'true' ? true : false;\n    \n    scope.toggle11 = function() {\n        scope.button11State = !scope.button11State;\n        var msg = { \n            bool: scope.button11State,\n            buttonId: 'button11'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage11Key, scope.button11State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 80,
        "y": 720,
        "wires": [
            [
                "e66844561ce0cf23"
            ]
        ]
    },
    {
        "id": "873c2405a5fd56b2",
        "type": "Subscriber",
        "z": "84e6737c788fd481",
        "topic": "nomap_follow_path_status",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 530,
        "y": 260,
        "wires": [
            [
                "e96a70aa092b90b2"
            ]
        ]
    },
    {
        "id": "47dd0f83616e580d",
        "type": "ROS2 Type",
        "z": "84e6737c788fd481",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 300,
        "y": 260,
        "wires": [
            [
                "873c2405a5fd56b2"
            ]
        ]
    },
    {
        "id": "e96a70aa092b90b2",
        "type": "function",
        "z": "84e6737c788fd481",
        "name": "function 11",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 260,
        "wires": [
            [
                "c1fde772cf350860"
            ]
        ]
    },
    {
        "id": "47e1f806bff40c23",
        "type": "Publisher",
        "z": "84e6737c788fd481",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 860,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "1922747e01c8fea5",
        "type": "ROS2 Type",
        "z": "84e6737c788fd481",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 660,
        "y": 360,
        "wires": [
            [
                "47e1f806bff40c23"
            ]
        ]
    },
    {
        "id": "9c5d9192b46e2b45",
        "type": "change",
        "z": "84e6737c788fd481",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Home\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 180,
        "wires": [
            [
                "980b43e2e4e24a4f"
            ]
        ]
    },
    {
        "id": "33760df54e576a30",
        "type": "function",
        "z": "84e6737c788fd481",
        "name": "Promt Start",
        "func": "var numValue = flow.get(\"num\"); \n\nif (msg.bool == true){\n    msg.data = \"ros2 launch create_path follow_path.launch.py map:=/home/thanawat/amr_ws/src/create_path/map/map.yaml rviz:=true sim:=true cycles:=\" + numValue;  \n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch create_path follow_path.launch.py map:=/home/thanawat/amr_ws/src/create_path/map/map.yaml rviz:=true sim:=true cycles:=\" + numValue;  \n    return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 360,
        "wires": [
            [
                "1922747e01c8fea5"
            ]
        ]
    },
    {
        "id": "9582637b8f322c3b",
        "type": "function",
        "z": "84e6737c788fd481",
        "name": "set name",
        "func": "var numValue = msg.payload.cycles;\nflow.set(\"num\", numValue);\n\nreturn msg;\n  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e3b33c17323c943a",
        "type": "Publisher",
        "z": "84e6737c788fd481",
        "topic": "amr_command",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 880,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "4f83cbf8c7ad7287",
        "type": "ROS2 Type",
        "z": "84e6737c788fd481",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 680,
        "y": 440,
        "wires": [
            [
                "e3b33c17323c943a"
            ]
        ]
    },
    {
        "id": "98f9d641503c72ec",
        "type": "function",
        "z": "84e6737c788fd481",
        "name": "pause/resume",
        "func": "if (msg.payload == \"pause\"){\n    msg.data = \"pause\"\n}\n\nelse{\n    msg.data = \"resume\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 440,
        "wires": [
            [
                "4f83cbf8c7ad7287"
            ]
        ]
    },
    {
        "id": "1349ae9b235c0e19",
        "type": "ui_button",
        "z": "84e6737c788fd481",
        "name": "",
        "group": "7115b5eb19e09cb1",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Back To Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 180,
        "wires": [
            [
                "9c5d9192b46e2b45"
            ]
        ]
    },
    {
        "id": "c1fde772cf350860",
        "type": "ui_text",
        "z": "84e6737c788fd481",
        "group": "7115b5eb19e09cb1",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 870,
        "y": 260,
        "wires": []
    },
    {
        "id": "980b43e2e4e24a4f",
        "type": "ui_ui_control",
        "z": "84e6737c788fd481",
        "name": "",
        "events": "all",
        "x": 720,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "676f25d6b9fede50",
        "type": "ui_template",
        "z": "84e6737c788fd481",
        "group": "7115b5eb19e09cb1",
        "name": "start-stop",
        "order": 5,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn9\" class=\"custom-control-btn\" ng-click=\"toggle9()\" ng-style=\"{\n'background-color': button9State ? '#f44336' : '#4CAF50',\n'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button9State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button9State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n// เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\nvar button9Id = 'controlBtn9';\nvar storage9Key = 'button9_state';\n// ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n scope.button9State = localStorage.getItem(storage9Key) === 'true' ? true : false;\n scope.toggle9 = function() {\n scope.button9State = !scope.button9State;\nvar msg = {\n bool: scope.button9State,\n buttonId: 'button9' // เพิ่ม ID เพื่อระบุปุ่ม\n };\n scope.send(msg);\n localStorage.setItem(storage9Key, scope.button9State);\n };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 280,
        "y": 360,
        "wires": [
            [
                "33760df54e576a30"
            ]
        ]
    },
    {
        "id": "afe2f72e4f4d4059",
        "type": "ui_template",
        "z": "84e6737c788fd481",
        "group": "7115b5eb19e09cb1",
        "name": "",
        "order": 12,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n.text1 {\n/* ฟอนต์และการจัดวาง */\nfont-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\nfont-size: 18px;\nfont-weight: 400;\nline-height: 1.6;\nletter-spacing: 0.3px;\n\n/* สีและพื้นหลัง */\ncolor: #2c3e50;\nbackground: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n\n/* การจัดวางและขอบ */\npadding: 15px 20px;\nmargin: 10px 0;\nborder-radius: 12px;\nborder: 2px solid #000;\nborder-style: double;\n\n/* ตกแต่งขอบมุม */\nposition: relative;\n\n/* เงาและ depth effect */\nbox-shadow: 0 4px 15px rgba(0,0,0,0.08),\n0 1px 3px rgba(0,0,0,0.05);\n\n/* การเปลี่ยนแปลงแบบ smooth */\ntransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n/* เพิ่มความน่าสนใจ */\noverflow: hidden;\n}\n\n/* Effect เมื่อ hover */\n.text1:hover {\ntransform: translateY(-2px);\nbox-shadow: 0 6px 20px rgba(0,0,0,0.15),\n0 2px 5px rgba(0,0,0,0.1);\nborder-color: #2ecc71;\nbackground: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n}\n\n/* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n.text1::before {\ncontent: '🤖';\nposition: absolute;\ntop: 5px;\nleft: 5px;\nfont-size: 16px;\n}\n\n.text1::after {\ncontent: '🤖';\nposition: absolute;\nbottom: 5px;\nright: 5px;\nfont-size: 16px;\n}\n\n/* สไตล์เมื่อเลือกข้อความ */\n.text1::selection {\nbackground-color: #ffd1dc;\ncolor: #ff69b4;\n}\n\n/* animation เมื่อ element ปรากฎ */\n@keyframes slideIn {\nfrom {\nopacity: 0;\ntransform: translateY(10px);\n}\nto {\nopacity: 1;\ntransform: translateY(0);\n}\n}\n\n.text1 {\nanimation: slideIn 0.5s ease-out forwards;\n}\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 300,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "da2e1559b2687731",
        "type": "ui_template",
        "z": "84e6737c788fd481",
        "group": "7115b5eb19e09cb1",
        "name": "form follow path",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-form\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Follow Path</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {cycles: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"numCycles\">Number of Cycles:</label>\n                    <input type=\"number\" id=\"numCycles\" ng-model=\"formData.cycles\" required min=\"1\">\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Ensure unique class names to prevent conflicts */\n    .workspace-config-form .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 7px auto;\n        overflow: hidden;\n        padding: 7px;\n    }\n\n    .workspace-config-form .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-form .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-form .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-form .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-form label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-form .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-form .bar:before,\n    .workspace-config-form .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-form .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-form input:focus~.bar:before,\n    .workspace-config-form input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-form .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-form input:focus~.highlight {\n        animation: inputHighlighter 0.3s ease;\n    }\n\n    @keyframes inputHighlighter {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-form .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-form .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-form .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-form .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-form .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 100,
        "wires": [
            [
                "9582637b8f322c3b"
            ]
        ]
    },
    {
        "id": "64f8aa1d6f8ec3ce",
        "type": "ui_template",
        "z": "84e6737c788fd481",
        "group": "7115b5eb19e09cb1",
        "name": "pause-resume",
        "order": 7,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-toggle-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-toggle-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-toggle-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"pauseResumeBtn\" class=\"custom-toggle-btn\" ng-click=\"togglePauseResume()\" ng-style=\"{\n'background-color': pauseResumeState ? '#4CAF50' : '#f44336',\n'color': 'white'\n }\">\n        <i class=\"icon\" ng-class=\"pauseResumeState ? 'fa fa-pause' : 'fa fa-play'\"></i>\n        {{pauseResumeState ? 'Pause' : 'Resume'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\nvar pauseResumeBtnId = 'pauseResumeBtn';\nvar pauseResumeStorageKey = 'pauseResume_state';\n\nscope.pauseResumeState = localStorage.getItem(pauseResumeStorageKey) === 'false' ? false : true;\n\nscope.togglePauseResume = function() {\n    scope.pauseResumeState = !scope.pauseResumeState;\n    \n    var msg = {\n        topic: \"amr_command\",\n        payload: scope.pauseResumeState ? \"resume\" : \"pause\",\n        buttonId: 'pauseResumeBtn' \n    };\n    \n    scope.send(msg);\n    \n    localStorage.setItem(pauseResumeStorageKey, scope.pauseResumeState);\n};\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 280,
        "y": 440,
        "wires": [
            [
                "98f9d641503c72ec"
            ]
        ]
    },
    {
        "id": "be21d837af80034f",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Follow Human\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 180,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "138f89a9f201855f",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Teleoperation Control\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 140,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "b611709c730fa701",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Follow Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 220,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "0a94c0b0e55cbc59",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Navigation to different positions\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 260,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "9814dd816a7d6a5c",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "data",
                "pt": "msg",
                "to": "clear_all",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 540,
        "wires": [
            [
                "bcc0df4014e57412"
            ]
        ]
    },
    {
        "id": "af4b2b67ef2b46a0",
        "type": "Publisher",
        "z": "d2d1ade5b115c118",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 780,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "bcc0df4014e57412",
        "type": "ROS2 Type",
        "z": "d2d1ade5b115c118",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 560,
        "y": 580,
        "wires": [
            [
                "af4b2b67ef2b46a0"
            ]
        ]
    },
    {
        "id": "397bc1023046b218",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Save Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 100,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "6475cfa191b70a96",
        "type": "function",
        "z": "d2d1ade5b115c118",
        "name": "set name",
        "func": "var mapValue = msg.payload.map;\nvar homeValue = msg.payload.home;\n\nglobal.set(\"map\", mapValue);\nglobal.set(\"home\", homeValue);\n\nreturn msg;\n  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "3b9c6a3498d20069",
        "type": "ROS2 Type",
        "z": "d2d1ade5b115c118",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 260,
        "y": 420,
        "wires": [
            [
                "32ecd714535a4c1d"
            ]
        ]
    },
    {
        "id": "32ecd714535a4c1d",
        "type": "Subscriber",
        "z": "d2d1ade5b115c118",
        "topic": "start_status",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 470,
        "y": 420,
        "wires": [
            [
                "2f63e6e12f1c40bc"
            ]
        ]
    },
    {
        "id": "2f63e6e12f1c40bc",
        "type": "function",
        "z": "d2d1ade5b115c118",
        "name": "function 6",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 420,
        "wires": [
            [
                "b53788aeba7ac158"
            ]
        ]
    },
    {
        "id": "7222da4d8ce3e5da",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "data",
                "pt": "msg",
                "to": "go_home",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 390,
        "y": 680,
        "wires": [
            [
                "59b675abde5df144"
            ]
        ]
    },
    {
        "id": "59b675abde5df144",
        "type": "ROS2 Type",
        "z": "d2d1ade5b115c118",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 580,
        "y": 680,
        "wires": [
            [
                "e18e656992144b9c"
            ]
        ]
    },
    {
        "id": "e18e656992144b9c",
        "type": "Publisher",
        "z": "d2d1ade5b115c118",
        "topic": "go_home",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 780,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "7727c8b103b90cf1",
        "type": "function",
        "z": "d2d1ade5b115c118",
        "name": "command",
        "func": "\n\nvar mapValue = global.get(\"map\", mapValue);\nvar homeValue = global.get(\"home\", homeValue);\n\nif (msg.payload){\n    msg.data = \"ros2 launch start_navigation navigation.launch.py map:=/home/thanawat/amr_ws/src/creat_map/map/\" + mapValue + \".yaml sim:=true rviz:=true home_csv:=\" + homeValue + \".csv\";  \n}\n\nelse{\n    msg.data = \"stop ros2 launch start_navigation navigation.launch.py map:=/home/thanawat/amr_ws/src/creat_map/map/\" + mapValue + \".yaml sim:=true rviz:=true home_csv:=\" + homeValue + \".csv\";  \n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 600,
        "wires": [
            [
                "bcc0df4014e57412"
            ]
        ]
    },
    {
        "id": "ce76838e0daa2fc1",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Save Position\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 60,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "09d8864c368ffcb9",
        "type": "change",
        "z": "d2d1ade5b115c118",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Home\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 300,
        "wires": [
            [
                "bc48ee7534604d6b"
            ]
        ]
    },
    {
        "id": "fe4f2117ad916538",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Follow Human",
        "tooltip": "โหมดเดินตามมนุษย์",
        "color": "",
        "bgcolor": "",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 340,
        "y": 180,
        "wires": [
            [
                "be21d837af80034f"
            ]
        ]
    },
    {
        "id": "eb3574917465c318",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Teleoperation Control",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 140,
        "wires": [
            [
                "138f89a9f201855f"
            ]
        ]
    },
    {
        "id": "39595110d2d675dc",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Follow Path",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn3",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 350,
        "y": 220,
        "wires": [
            [
                "b611709c730fa701"
            ]
        ]
    },
    {
        "id": "b5e4385e25e830e6",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Navigation to different positions",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn4",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 260,
        "wires": [
            [
                "0a94c0b0e55cbc59"
            ]
        ]
    },
    {
        "id": "36bec343bdb3e65f",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save Path ",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn5",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 350,
        "y": 100,
        "wires": [
            [
                "397bc1023046b218"
            ]
        ]
    },
    {
        "id": "ccc2d1db77a41e6d",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 12,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Reset",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn6",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 230,
        "y": 540,
        "wires": [
            [
                "9814dd816a7d6a5c"
            ]
        ]
    },
    {
        "id": "1ff4831a10dcaf1d",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save Position",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn7",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 340,
        "y": 60,
        "wires": [
            [
                "ce76838e0daa2fc1"
            ]
        ]
    },
    {
        "id": "f71b5fad8ea2363c",
        "type": "ui_button",
        "z": "d2d1ade5b115c118",
        "name": "",
        "group": "5128e868abbd1e3b",
        "order": 10,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Back To Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn6",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 300,
        "wires": [
            [
                "09d8864c368ffcb9"
            ]
        ]
    },
    {
        "id": "b53788aeba7ac158",
        "type": "ui_text",
        "z": "d2d1ade5b115c118",
        "group": "9ee44658e64b90fc",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 810,
        "y": 420,
        "wires": []
    },
    {
        "id": "bc48ee7534604d6b",
        "type": "ui_ui_control",
        "z": "d2d1ade5b115c118",
        "name": "Admin Mode",
        "events": "all",
        "x": 810,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "9c3071126badc3a3",
        "type": "ui_template",
        "z": "d2d1ade5b115c118",
        "group": "9ee44658e64b90fc",
        "name": "start-stop",
        "order": 5,
        "width": 3,
        "height": 1,
        "format": "<style>\n  .custom-control-btn {\n    min-width: 120px;\n    padding: 12px 24px;\n    border-radius: 20px;\n    font-size: 16px;\n    font-weight: bold;\n    text-transform: uppercase;\n    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n    transition: all 0.3s ease;\n    border: none;\n    outline: none;\n    cursor: pointer;\n  }\n\n  .custom-control-btn:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n  }\n\n  .custom-control-btn:active {\n    transform: translateY(1px);\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n  }\n\n  .btn-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .icon {\n    margin-right: 8px;\n  }\n</style>\n\n<div class=\"btn-container\">\n  <md-button id=\"controlBtn1\" class=\"custom-control-btn\" ng-click=\"toggle1()\" ng-style=\"{\n      'background-color': button1State ? '#f44336' : '#4CAF50',\n      'color': 'white'\n    }\">\n    <i class=\"icon\" ng-class=\"button1State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n    {{ button1State ? 'Stop' : 'Start' }}\n  </md-button>\n</div>\n\n<script>\n  (function(scope) {\n    // กำหนดตัวแปรสำหรับปุ่มและ LocalStorage\n    var button1Id = 'controlBtn1';\n    var storage1Key = 'button1_state';\n\n    // โหลดสถานะจาก LocalStorage\n    scope.button1State = localStorage.getItem(storage1Key) === 'true';\n\n    // ฟังก์ชันสลับสถานะปุ่ม\n    scope.toggle1 = function() {\n      scope.button1State = !scope.button1State;\n\n      var msg = {\n        payload: scope.button1State,\n        buttonId: 'button1' // ระบุ ID ปุ่ม\n      };\n\n      scope.send(msg);\n      localStorage.setItem(storage1Key, scope.button1State);\n    };\n  })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 220,
        "y": 600,
        "wires": [
            [
                "7727c8b103b90cf1"
            ]
        ]
    },
    {
        "id": "59334f67a2430c50",
        "type": "ui_template",
        "z": "d2d1ade5b115c118",
        "group": "9ee44658e64b90fc",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"card\">\n    <div class=\"card-header\">\n        <h2>Configure Workspace</h2>\n    </div>\n\n    <div class=\"card-body\" ng-init=\"formData = {map: '', home: ''}\">\n        <form ng-submit=\"send({payload: formData})\">\n            <div class=\"form-group\">\n                <label for=\"mapName\">Map Name:</label>\n                <input type=\"text\" id=\"mapName\" ng-model=\"formData.map\" required>\n                <span class=\"highlight\"></span>\n                <span class=\"bar\"></span>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"homePosition\">Home Position:</label>\n                <input type=\"text\" id=\"homePosition\" ng-model=\"formData.home\" required>\n                <span class=\"highlight\"></span>\n                <span class=\"bar\"></span>\n            </div>\n\n            <div class=\"buttons\">\n                <button type=\"submit\" class=\"btn-save\">Confirm</button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<style>\n    .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        overflow: hidden;\n    }\n\n    .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n        \n    }\n\n    .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .card-body {\n        padding: 20px;\n    }\n\n    .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .bar:before,\n    .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .bar:before {\n        left: 50%;\n    }\n\n    .bar:after {\n        right: 50%;\n    }\n\n    input:focus~.bar:before,\n    input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    input:focus~.highlight {\n        animation: inputHighlighter 0.3s ease;\n    }\n\n    @keyframes inputHighlighter {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1000,
        "y": 120,
        "wires": [
            [
                "6475cfa191b70a96"
            ]
        ]
    },
    {
        "id": "697298c0f20c5251",
        "type": "ui_template",
        "z": "d2d1ade5b115c118",
        "group": "9ee44658e64b90fc",
        "name": "go home",
        "order": 7,
        "width": 3,
        "height": 1,
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    .home-navigation-btn {\n      min-width: 120px;\n      padding: 12px 24px;\n      border-radius: 20px;\n      font-size: 16px;\n      font-weight: bold;\n      text-transform: uppercase;\n      box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n      transition: all 0.3s ease;\n      border: none;\n      outline: none;\n      cursor: pointer;\n      background-color: #4CAF50;\n      color: white;\n    }\n\n    .home-navigation-btn:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .home-navigation-btn:active {\n      transform: translateY(1px);\n      box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .home-btn-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .home-icon {\n      margin-right: 8px;\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"home-btn-container\">\n    <button class=\"home-navigation-btn\" onclick=\"homeNavigationHandler()\">Go Home</button>\n  </div>\n\n  <script>\n    (function(scope) {\n  // ใช้ IIFE เพื่อสร้าง scope ที่แยกออกมา\n  const HOME_BUTTON_NAMESPACE = {\n    sendHomeCommand: function() {\n      var msg = {\n        payload: \"HOME_COMMAND\",\n        source: \"home_navigation_button\" // เพิ่ม identifier ให้รู้ว่ามาจากปุ่มไหน\n      };\n      scope.send(msg);\n    }\n  };\n\n  // สร้าง global function ด้วยชื่อที่เฉพาะเจาะจง\n  window.homeNavigationHandler = function() {\n    HOME_BUTTON_NAMESPACE.sendHomeCommand();\n  };\n})(scope);\n  </script>\n</body>\n\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 220,
        "y": 680,
        "wires": [
            [
                "7222da4d8ce3e5da"
            ]
        ]
    },
    {
        "id": "9fe2226014462d9f",
        "type": "ui_template",
        "z": "d2d1ade5b115c118",
        "group": "9ee44658e64b90fc",
        "name": "",
        "order": 9,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* ปุ่มที่ 1 - สีฟ้า */\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #2196F3 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4) !important;\n    }\n\n    /* ปุ่มที่ 2 - สีเขียว */\n    .btn2>.md-button {\n        border-radius: 25px !important;\n        background-color: #4CAF50 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn2>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(76, 175, 80, 0.4) !important;\n    }\n\n    /* ปุ่มที่ 3 - สีส้ม */\n    .btn3>.md-button {\n        border-radius: 25px !important;\n        background-color: #FF9800 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn3>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(255, 152, 0, 0.4) !important;\n    }\n\n    /* ปุ่มที่ 4 - สีม่วง */\n    .btn4>.md-button {\n        border-radius: 25px !important;\n        background-color: #9C27B0 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(156, 39, 176, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn4>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(156, 39, 176, 0.4) !important;\n    }\n\n    /* ปุ่มที่ 5 - สีแดง */\n    .btn5>.md-button {\n        border-radius: 25px !important;\n        background-color: #F44336 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(244, 67, 54, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn5>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(244, 67, 54, 0.4) !important;\n    }\n\n    .btn6>.md-button {\n    border-radius: 25px !important;\n    background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n    color: white !important;\n    box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n    transition: all 0.3s ease !important;\n    }\n    .btn6>.md-button:hover {\n    transform: translateY(-2px) !important;\n    box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    /* ปุ่มที่ 7 - สีน้ำเงินเข้ม */\n    .btn7>.md-button {\n    border-radius: 25px !important;\n    background-color: #1E3A8A !important;\n    color: white !important;\n    box-shadow: 0 4px 8px rgba(30, 58, 138, 0.3) !important;\n    transition: all 0.3s ease !important;\n    }\n    \n    .btn7>.md-button:hover {\n    transform: translateY(-2px) !important;\n    box-shadow: 0 6px 12px rgba(30, 58, 138, 0.4) !important;\n    }\n\n\n    .text1 {\n    /* ฟอนต์และการจัดวาง */\n    font-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n    letter-spacing: 0.3px;\n    \n    /* สีและพื้นหลัง */\n    color: #2c3e50;\n    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n    \n    /* การจัดวางและขอบ */\n    padding: 15px 20px;\n    margin: 10px 0;\n    border-radius: 12px;\n    border: 2px solid #000;\n    border-style: double;\n    \n    /* ตกแต่งขอบมุม */\n    position: relative;\n    \n    /* เงาและ depth effect */\n    box-shadow: 0 4px 15px rgba(0,0,0,0.08),\n    0 1px 3px rgba(0,0,0,0.05);\n    \n    /* การเปลี่ยนแปลงแบบ smooth */\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    \n    /* เพิ่มความน่าสนใจ */\n    overflow: hidden;\n    }\n    \n    /* Effect เมื่อ hover */\n    .text1:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15),\n    0 2px 5px rgba(0,0,0,0.1);\n    border-color: #2ecc71;\n    background: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n    }\n    \n    /* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n    .text1::before {\n    content: '🤖';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    font-size: 16px;\n    }\n    \n    .text1::after {\n    content: '🤖';\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n    font-size: 16px;\n    }\n    \n    /* สไตล์เมื่อเลือกข้อความ */\n    .text1::selection {\n    background-color: #ffd1dc;\n    color: #ff69b4;\n    }\n    \n    /* animation เมื่อ element ปรากฎ */\n    @keyframes slideIn {\n    from {\n    opacity: 0;\n    transform: translateY(10px);\n    }\n    to {\n    opacity: 1;\n    transform: translateY(0);\n    }\n    }\n    \n    .text1 {\n    animation: slideIn 0.5s ease-out forwards;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1000,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "dbccfb8729b6a755",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Set Linear_vel",
        "func": "flow.set('linearSliderValue', msg.payload);  // ใช้ Flow Context แทน Global\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 180,
        "wires": [
            [
                "e610a63b07e32e9a",
                "67423a6a2c3ee71c"
            ]
        ]
    },
    {
        "id": "54767109398a484b",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Negative_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 200,
        "wires": [
            [
                "f6cae52610214072"
            ]
        ]
    },
    {
        "id": "b17f5dec55060244",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Positive_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue');  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 240,
        "wires": [
            [
                "b786ce5b8d350296"
            ]
        ]
    },
    {
        "id": "f4c515a3ea1c3a21",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Negative_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n} \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 280,
        "wires": [
            [
                "b786ce5b8d350296"
            ]
        ]
    },
    {
        "id": "64df9744ac41c5a8",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Set Angular_vel",
        "func": "flow.set('angularSliderValue', msg.payload);  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 260,
        "wires": [
            [
                "32a9321c0375d6b5",
                "2baab284da2622e9"
            ]
        ]
    },
    {
        "id": "df416a4da289a7fe",
        "type": "function",
        "z": "6a634f37461e289e",
        "name": "Positive_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 160,
        "wires": [
            [
                "f6cae52610214072"
            ]
        ]
    },
    {
        "id": "f6cae52610214072",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "Linear_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 180,
        "wires": [
            [
                "cb7ae5130e775087"
            ]
        ]
    },
    {
        "id": "b786ce5b8d350296",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "angular_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 260,
        "wires": [
            [
                "cb7ae5130e775087"
            ]
        ]
    },
    {
        "id": "fe46007e0fcf6a45",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 320,
        "wires": [
            [
                "cb7ae5130e775087"
            ]
        ]
    },
    {
        "id": "3f371221f3b4077b",
        "type": "Publisher",
        "z": "6a634f37461e289e",
        "topic": "cmd_vel",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "geometry_msgs/Twist",
        "x": 1360,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "cb7ae5130e775087",
        "type": "ROS2 Type",
        "z": "6a634f37461e289e",
        "ros2pkg": "geometry_msgs",
        "ros2message": "Twist",
        "x": 1160,
        "y": 260,
        "wires": [
            [
                "3f371221f3b4077b"
            ]
        ]
    },
    {
        "id": "c8202c638b56ca63",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 400,
        "wires": [
            [
                "bed4e64532df7fe8"
            ]
        ]
    },
    {
        "id": "ceedfb6312738ab3",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Save Path\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 440,
        "wires": [
            [
                "bed4e64532df7fe8"
            ]
        ]
    },
    {
        "id": "1ac0e3eba64a1194",
        "type": "change",
        "z": "6a634f37461e289e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Save Position\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 480,
        "wires": [
            [
                "bed4e64532df7fe8"
            ]
        ]
    },
    {
        "id": "e610a63b07e32e9a",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "up",
        "group": "c80234f781ae44a3",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn3",
        "icon": "fa-arrow-up",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 160,
        "wires": [
            [
                "df416a4da289a7fe"
            ]
        ]
    },
    {
        "id": "67423a6a2c3ee71c",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "down",
        "group": "c80234f781ae44a3",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn4",
        "icon": "fa-arrow-down",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 200,
        "wires": [
            [
                "54767109398a484b"
            ]
        ]
    },
    {
        "id": "e0086b380ac2de13",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "stop",
        "group": "c80234f781ae44a3",
        "order": 11,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn7",
        "icon": "fa-stop",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 320,
        "wires": [
            [
                "fe46007e0fcf6a45"
            ]
        ]
    },
    {
        "id": "2baab284da2622e9",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "right",
        "group": "c80234f781ae44a3",
        "order": 12,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn6",
        "icon": "fa-arrow-right",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 280,
        "wires": [
            [
                "f4c515a3ea1c3a21"
            ]
        ]
    },
    {
        "id": "32a9321c0375d6b5",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "left",
        "group": "c80234f781ae44a3",
        "order": 10,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn5",
        "icon": "fa-arrow-left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 510,
        "y": 240,
        "wires": [
            [
                "b17f5dec55060244"
            ]
        ]
    },
    {
        "id": "52f20253735a8fab",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "",
        "group": "c80234f781ae44a3",
        "order": 18,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 400,
        "wires": [
            [
                "c8202c638b56ca63"
            ]
        ]
    },
    {
        "id": "b16fba98fd50241d",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "",
        "group": "c80234f781ae44a3",
        "order": 20,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Save Path ",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 440,
        "wires": [
            [
                "ceedfb6312738ab3"
            ]
        ]
    },
    {
        "id": "5529a3656dfe77d5",
        "type": "ui_button",
        "z": "6a634f37461e289e",
        "name": "",
        "group": "c80234f781ae44a3",
        "order": 21,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Save Position",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn8",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 480,
        "wires": [
            [
                "1ac0e3eba64a1194"
            ]
        ]
    },
    {
        "id": "90d232c1bbf1564f",
        "type": "ui_slider",
        "z": "6a634f37461e289e",
        "name": "",
        "label": "Linear Velocity",
        "tooltip": "",
        "group": "c80234f781ae44a3",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.4",
        "step": "0.01",
        "className": "",
        "x": 140,
        "y": 180,
        "wires": [
            [
                "99742bbd773a3a75",
                "dbccfb8729b6a755"
            ]
        ]
    },
    {
        "id": "144dc4687bb0132c",
        "type": "ui_slider",
        "z": "6a634f37461e289e",
        "name": "",
        "label": "Augular Velocity",
        "tooltip": "",
        "group": "c80234f781ae44a3",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.4",
        "step": "0.01",
        "className": "",
        "x": 140,
        "y": 260,
        "wires": [
            [
                "64df9744ac41c5a8",
                "1f39df9c45301511"
            ]
        ]
    },
    {
        "id": "1f39df9c45301511",
        "type": "ui_gauge",
        "z": "6a634f37461e289e",
        "name": "",
        "group": "c80234f781ae44a3",
        "order": 2,
        "width": 5,
        "height": 3,
        "gtype": "gage",
        "title": "Augular Velocity",
        "label": "rad/s ",
        "format": "{{value}}",
        "min": 0,
        "max": "0.4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 340,
        "y": 300,
        "wires": []
    },
    {
        "id": "99742bbd773a3a75",
        "type": "ui_gauge",
        "z": "6a634f37461e289e",
        "name": "",
        "group": "c80234f781ae44a3",
        "order": 1,
        "width": 5,
        "height": 3,
        "gtype": "gage",
        "title": "Linear Velocity",
        "label": "m/s²",
        "format": "{{value}}",
        "min": 0,
        "max": "0.4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 340,
        "y": 140,
        "wires": []
    },
    {
        "id": "bed4e64532df7fe8",
        "type": "ui_ui_control",
        "z": "6a634f37461e289e",
        "name": "",
        "events": "all",
        "x": 600,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "bfecf8e14bd2eded",
        "type": "ui_template",
        "z": "6a634f37461e289e",
        "group": "c80234f781ae44a3",
        "name": "",
        "order": 22,
        "width": 0,
        "height": 0,
        "format": "<style>\n/* ปุ่มที่ 1 - สีเทา */\n.btn1>.md-button {\nborder-radius: 25px !important;\nbackground-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn1>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n}\n\n/* ปุ่มที่ 2 - คงเดิม */\n.btn2>.md-button {\nborder-radius: 25px !important;\nbackground-color: #F44336 !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(244, 67, 54, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn2>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(244, 67, 54, 0.4) !important;\n}\n\n/* ปุ่มควบคุมหุ่นยนต์ - ทั้งหมดใช้สีฟ้าเหมือนกัน */\n/* ปุ่มเดินหน้า */\n.btn3>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn3>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มถอยหลัง */\n.btn4>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn4>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวซ้าย */\n.btn5>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn5>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวขวา */\n.btn6>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn6>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มหยุด */\n.btn7>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn7>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มที่ 8 - สีน้ำเงินเข้ม */\n.btn8>.md-button {\nborder-radius: 25px !important;\nbackground-color: #1E3A8A !important;\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(30, 58, 138, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n\n.btn8>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(30, 58, 138, 0.4) !important;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "ecccf3846df07e52",
        "type": "ROS2 Type",
        "z": "d7548e7d9ae66fa6",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 140,
        "y": 420,
        "wires": [
            [
                "916dc15ec8816e45"
            ]
        ]
    },
    {
        "id": "916dc15ec8816e45",
        "type": "Subscriber",
        "z": "d7548e7d9ae66fa6",
        "topic": "camera/base64_image",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 350,
        "y": 420,
        "wires": [
            [
                "b424719231661b82"
            ]
        ]
    },
    {
        "id": "b424719231661b82",
        "type": "function",
        "z": "d7548e7d9ae66fa6",
        "name": "function 1",
        "func": "msg.payload = Buffer.from(msg.data, 'base64');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 420,
        "wires": [
            [
                "4ec40874fa9b10d9"
            ]
        ]
    },
    {
        "id": "4ec40874fa9b10d9",
        "type": "jimp-image",
        "z": "d7548e7d9ae66fa6",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "payload",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 690,
        "y": 420,
        "wires": [
            [
                "6c17162ef3b94dc2"
            ]
        ]
    },
    {
        "id": "2d26470d8416427d",
        "type": "change",
        "z": "d7548e7d9ae66fa6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 60,
        "wires": [
            [
                "449b11fd1f268b17"
            ]
        ]
    },
    {
        "id": "45cf614656c74a7c",
        "type": "function",
        "z": "d7548e7d9ae66fa6",
        "name": "Promt Start",
        "func": "var person_name = flow.get(\"name\");  \n\nif (msg.bool == true){\n    msg.data = \"ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n        return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 260,
        "wires": [
            [
                "1634698e4958ec2e"
            ]
        ]
    },
    {
        "id": "0f8cd1a4e6209986",
        "type": "function",
        "z": "d7548e7d9ae66fa6",
        "name": "set name",
        "func": "var personName = msg.payload.person;\nflow.set('name', personName);  \nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "9fdebab1786d1de8",
        "type": "Publisher",
        "z": "d7548e7d9ae66fa6",
        "topic": "pause",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 740,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b73f1ef04164bc50",
        "type": "ROS2 Type",
        "z": "d7548e7d9ae66fa6",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 540,
        "y": 340,
        "wires": [
            [
                "9fdebab1786d1de8"
            ]
        ]
    },
    {
        "id": "afd6614d5172d2a4",
        "type": "function",
        "z": "d7548e7d9ae66fa6",
        "name": "pause/resume",
        "func": "if (!msg.payload){\n    msg.data = \"pause\"\n}\n\nelse{\n    msg.data = \"running\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 340,
        "wires": [
            [
                "b73f1ef04164bc50"
            ]
        ]
    },
    {
        "id": "93fdec5a7d783b78",
        "type": "Publisher",
        "z": "d7548e7d9ae66fa6",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 680,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "1634698e4958ec2e",
        "type": "ROS2 Type",
        "z": "d7548e7d9ae66fa6",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 480,
        "y": 260,
        "wires": [
            [
                "93fdec5a7d783b78"
            ]
        ]
    },
    {
        "id": "bc4f8e4f376c7f99",
        "type": "ROS2 Type",
        "z": "d7548e7d9ae66fa6",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 140,
        "y": 500,
        "wires": [
            [
                "d8c98c45162f8cd8"
            ]
        ]
    },
    {
        "id": "d8c98c45162f8cd8",
        "type": "Subscriber",
        "z": "d7548e7d9ae66fa6",
        "topic": "status_follow_me",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 370,
        "y": 500,
        "wires": [
            [
                "2d35a5683b3d0c15"
            ]
        ]
    },
    {
        "id": "2d35a5683b3d0c15",
        "type": "function",
        "z": "d7548e7d9ae66fa6",
        "name": "function 8",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 500,
        "wires": [
            [
                "80ef2fd54e6d9921"
            ]
        ]
    },
    {
        "id": "1fdfa69e3b820038",
        "type": "ui_button",
        "z": "d7548e7d9ae66fa6",
        "name": "",
        "group": "8c7a98564ba04595",
        "order": 10,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 400,
        "y": 60,
        "wires": [
            [
                "2d26470d8416427d"
            ]
        ]
    },
    {
        "id": "80ef2fd54e6d9921",
        "type": "ui_text",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 730,
        "y": 500,
        "wires": []
    },
    {
        "id": "449b11fd1f268b17",
        "type": "ui_ui_control",
        "z": "d7548e7d9ae66fa6",
        "name": "",
        "events": "all",
        "x": 800,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "6c17162ef3b94dc2",
        "type": "ui_template",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<!DOCTYPE html>\n<html>\n\n<head>\n    <style>\n        .camera-container {\n            background: #f5f5f5;\n            padding: 12px;\n            border-radius: 8px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            text-align: center;\n            max-width: 264px;\n            margin: 0 auto;\n        }\n\n        .title {\n            font-family: Arial, sans-serif;\n            color: #333;\n            font-size: 18px;\n            margin-bottom: 8px;\n            font-weight: bold;\n        }\n\n        .camera-frame {\n            position: relative;\n            background: #fff;\n            padding: 4px;\n            border-radius: 6px;\n            border: 1px solid #ddd;\n            overflow: hidden;\n        }\n\n        .camera-image {\n            width: 240px;\n            height: 160px;\n            object-fit: cover;\n            border-radius: 4px;\n            display: block;\n        }\n\n        .placeholder {\n            display: none;\n            width: 240px;\n            height: 160px;\n            background: #f8f9fa;\n            content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 240 160'%3E%3Crect width='240' height='160' fill='%23f8f9fa'/%3E%3Cpath d='M120 60c-16.5 0-30 13.5-30 30s13.5 30 30 30 30-13.5 30-30-13.5-30-30-30zm0 50c-11 0-20-9-20-20s9-20 20-20 20 9 20 20-9 20-20 20z' fill='%23dee2e6'/%3E%3Ccircle cx='120' cy='90' r='10' fill='%23dee2e6'/%3E%3Cpath d='M170 40h-20l-5-10H95l-5 10H70c-5.5 0-10 4.5-10 10v80c0 5.5 4.5 10 10 10h100c5.5 0 10-4.5 10-10V50c0-5.5-4.5-10-10-10z' fill='none' stroke='%23dee2e6' stroke-width='4'/%3E%3C/svg%3E\");\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"camera-container\">\n        <div class=\"title\">Camera Monitor</div>\n        <div class=\"camera-frame\">\n            <img class=\"camera-image\" src=\"{{msg.payload}}\" alt=\"Camera Feed\">\n            <img class=\"placeholder\" alt=\"No Camera Feed\">\n        </div>\n    </div>\n\n    <script>\n        (function(scope) {\n            let lastUpdate = Date.now();\n            const cameraImage = document.querySelector('.camera-image');\n            const placeholder = document.querySelector('.placeholder');\n            \n            // ตรวจสอบการอัพเดทภาพ\n            cameraImage.onload = function() {\n                lastUpdate = Date.now();\n                cameraImage.style.display = 'block';\n                placeholder.style.display = 'none';\n            };\n\n            // ตรวจสอบทุก 1 วินาที\n            setInterval(() => {\n                if (Date.now() - lastUpdate > 2000) { // ถ้าไม่มีภาพใหม่เกิน 2 วินาที\n                    cameraImage.style.display = 'none';\n                    placeholder.style.display = 'block';\n                }\n            }, 1000);\n\n            // เพิ่มการจัดการเมื่อมีการ scope.send\n            if (scope) {\n                const originalSend = scope.send;\n                scope.send = function(msg) {\n                    lastUpdate = Date.now();\n                    originalSend.apply(this, arguments);\n                };\n            }\n        })(scope);\n    </script>\n</body>\n\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 840,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "235e9780c1461312",
        "type": "ui_template",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "name": "pause-resume",
        "order": 7,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-toggle-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-toggle-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-toggle-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n\n<div class=\"btn-container\">\n    <md-button id=\"toggleBtn\" class=\"custom-toggle-btn\" ng-click=\"toggle()\" ng-style=\"{\n                   'background-color': isRunning ? '#4CAF50' : '#f44336',\n                   'color': 'white'\n               }\">\n        <i class=\"icon\" ng-class=\"isRunning ? 'fa fa-pause' : 'fa fa-play'\"></i>\n        {{isRunning ? 'Pause' : 'Resume'}}\n    </md-button>\n</div>\n\n<script>\n    (function(scope) {\n    scope.isRunning = true;\n    \n    scope.toggle = function() {\n        scope.isRunning = !scope.isRunning;\n        var msg = {\n            payload: scope.isRunning\n        };\n        scope.send(msg);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 340,
        "wires": [
            [
                "afd6614d5172d2a4"
            ]
        ]
    },
    {
        "id": "fabea11c3013bf6f",
        "type": "ui_template",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "name": "start-stop",
        "order": 5,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn2\" class=\"custom-control-btn\" ng-click=\"toggle2()\" ng-style=\"{\n    'background-color': button2State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button2State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button2State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button2Id = 'controlBtn2';\n    var storage2Key = 'button2_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button2State = localStorage.getItem(storage2Key) === 'true' ? true : false;\n    \n    scope.toggle2 = function() {\n        scope.button2State = !scope.button2State;\n        var msg = { \n            bool: scope.button2State,\n            buttonId: 'button2'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage2Key, scope.button2State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "45cf614656c74a7c"
            ]
        ]
    },
    {
        "id": "074a761a5e077ee1",
        "type": "ui_template",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "name": "person name",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-simple\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Choose a person name</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {person: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"personNameSimple\">Person Name:</label>\n                    <input type=\"text\" id=\"personNameSimple\" ng-model=\"formData.person\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Unique scoped styles for the simple form */\n    .workspace-config-simple .card {\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n    max-width: 500px;\n    overflow: hidden;\n    margin: 3px auto;\n    }\n\n    .workspace-config-simple .card-header {\n        padding: 10px 20px;\n        text-align: center;\n        border-radius: 8px;\n    }\n\n    .workspace-config-simple .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-simple .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-simple label {\n    color: #333;\n    font-size: 16px;\n    font-weight: 500;\n    display: block;\n    margin-bottom: 8px;\n    transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    \n    .workspace-config-simple input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-simple .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-simple .bar:before,\n    .workspace-config-simple .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-simple .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-simple input:focus~.bar:before,\n    .workspace-config-simple input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-simple .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-simple input:focus~.highlight {\n        animation: inputHighlighterSimple 0.3s ease;\n    }\n\n    @keyframes inputHighlighterSimple {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-simple .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-simple .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-simple .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-simple .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-simple .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "0f8cd1a4e6209986"
            ]
        ]
    },
    {
        "id": "06717a1226629d1a",
        "type": "ui_template",
        "z": "d7548e7d9ae66fa6",
        "group": "8c7a98564ba04595",
        "name": "",
        "order": 12,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    .text1 {\n    /* ฟอนต์และการจัดวาง */\n    font-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n    letter-spacing: 0.3px;\n    \n    /* สีและพื้นหลัง */\n    color: #2c3e50;\n    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n    \n    /* การจัดวางและขอบ */\n    padding: 15px 20px;\n    margin: 10px 0;\n    border-radius: 12px;\n    border: 2px solid #000;\n    border-style: double;\n    \n    /* ตกแต่งขอบมุม */\n    position: relative;\n    \n    /* เงาและ depth effect */\n    box-shadow: 0 4px 15px rgba(0,0,0,0.08),\n    0 1px 3px rgba(0,0,0,0.05);\n    \n    /* การเปลี่ยนแปลงแบบ smooth */\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    \n    /* เพิ่มความน่าสนใจ */\n    overflow: hidden;\n    }\n    \n    /* Effect เมื่อ hover */\n    .text1:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15),\n    0 2px 5px rgba(0,0,0,0.1);\n    border-color: #2ecc71;\n    background: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n    }\n    \n    /* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n    .text1::before {\n    content: '🤖';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    font-size: 16px;\n    }\n    \n    .text1::after {\n    content: '🤖';\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n    font-size: 16px;\n    }\n    \n    /* สไตล์เมื่อเลือกข้อความ */\n    .text1::selection {\n    background-color: #ffd1dc;\n    color: #ff69b4;\n    }\n    \n    /* animation เมื่อ element ปรากฎ */\n    @keyframes slideIn {\n    from {\n    opacity: 0;\n    transform: translateY(10px);\n    }\n    to {\n    opacity: 1;\n    transform: translateY(0);\n    }\n    }\n    \n    .text1 {\n    animation: slideIn 0.5s ease-out forwards;\n    }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "25d4cc52e559ab2e",
        "type": "Subscriber",
        "z": "d2c9ccadd91a44fb",
        "topic": "follow_path_status",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 330,
        "y": 220,
        "wires": [
            [
                "152669bdb338a44e"
            ]
        ]
    },
    {
        "id": "447d24bbd47646a9",
        "type": "ROS2 Type",
        "z": "d2c9ccadd91a44fb",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 100,
        "y": 220,
        "wires": [
            [
                "25d4cc52e559ab2e"
            ]
        ]
    },
    {
        "id": "152669bdb338a44e",
        "type": "function",
        "z": "d2c9ccadd91a44fb",
        "name": "function 5",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 220,
        "wires": [
            [
                "4b50a6b7419ae5fe"
            ]
        ]
    },
    {
        "id": "abb06cd585135133",
        "type": "function",
        "z": "d2c9ccadd91a44fb",
        "name": "set name",
        "func": "var pathValue = msg.payload.path;\nvar numValue = msg.payload.cycles;\n\nflow.set(\"path\", pathValue);\nflow.set(\"num\", numValue);\n\nreturn msg;\n  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "f99266187c201522",
        "type": "Publisher",
        "z": "d2c9ccadd91a44fb",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 660,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "e3133ae978d2ce91",
        "type": "ROS2 Type",
        "z": "d2c9ccadd91a44fb",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 460,
        "y": 320,
        "wires": [
            [
                "f99266187c201522"
            ]
        ]
    },
    {
        "id": "93d08c6f8747e84c",
        "type": "change",
        "z": "d2c9ccadd91a44fb",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 140,
        "wires": [
            [
                "6ad420c4eb421c0b"
            ]
        ]
    },
    {
        "id": "a76df83f276e12e2",
        "type": "function",
        "z": "d2c9ccadd91a44fb",
        "name": "Promt Start",
        "func": "var pathValue = flow.get(\"path\");\nvar numValue = flow.get(\"num\"); \n\nif (msg.bool == true){\n    msg.data = \"ros2 run follow_path follow_path \" + pathValue + \".csv \" + numValue;  \n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 run follow_path follow_path \" + pathValue + \".csv \" + numValue;  \n    return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 320,
        "wires": [
            [
                "e3133ae978d2ce91"
            ]
        ]
    },
    {
        "id": "b969701b3d7601c3",
        "type": "ui_button",
        "z": "d2c9ccadd91a44fb",
        "name": "",
        "group": "50a4f1bcfab2902c",
        "order": 5,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 140,
        "wires": [
            [
                "93d08c6f8747e84c"
            ]
        ]
    },
    {
        "id": "4b50a6b7419ae5fe",
        "type": "ui_text",
        "z": "d2c9ccadd91a44fb",
        "group": "50a4f1bcfab2902c",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 690,
        "y": 220,
        "wires": []
    },
    {
        "id": "6ad420c4eb421c0b",
        "type": "ui_ui_control",
        "z": "d2c9ccadd91a44fb",
        "name": "",
        "events": "all",
        "x": 580,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "0e17727dbbfb442e",
        "type": "ui_template",
        "z": "d2c9ccadd91a44fb",
        "group": "50a4f1bcfab2902c",
        "name": "start-stop",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn3\" class=\"custom-control-btn\" ng-click=\"toggle3()\" ng-style=\"{\n    'background-color': button3State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button3State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button3State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button3Id = 'controlBtn3';\n    var storage3Key = 'button3_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button3State = localStorage.getItem(storage3Key) === 'true' ? true : false;\n    \n    scope.toggle3 = function() {\n        scope.button3State = !scope.button3State;\n        var msg = { \n            bool: scope.button3State,\n            buttonId: 'button3'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage3Key, scope.button3State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 80,
        "y": 320,
        "wires": [
            [
                "a76df83f276e12e2"
            ]
        ]
    },
    {
        "id": "76024593df118bb9",
        "type": "ui_template",
        "z": "d2c9ccadd91a44fb",
        "group": "50a4f1bcfab2902c",
        "name": "form follow path",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-form\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Follow Path</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {path: '', cycles: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"pathName\">Path Name:</label>\n                    <input type=\"text\" id=\"pathName\" ng-model=\"formData.path\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"numCycles\">Number of Cycles:</label>\n                    <input type=\"number\" id=\"numCycles\" ng-model=\"formData.cycles\" required min=\"1\">\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Ensure unique class names to prevent conflicts */\n    .workspace-config-form .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 7px auto;\n        overflow: hidden;\n        padding: 7px;\n    }\n\n    .workspace-config-form .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-form .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-form .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-form .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-form label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-form .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-form .bar:before,\n    .workspace-config-form .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-form .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-form input:focus~.bar:before,\n    .workspace-config-form input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-form .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-form input:focus~.highlight {\n        animation: inputHighlighter 0.3s ease;\n    }\n\n    @keyframes inputHighlighter {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-form .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-form .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-form .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-form .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-form .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 340,
        "y": 60,
        "wires": [
            [
                "abb06cd585135133"
            ]
        ]
    },
    {
        "id": "488cdd82bb220bad",
        "type": "ui_template",
        "z": "d2c9ccadd91a44fb",
        "group": "50a4f1bcfab2902c",
        "name": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n.text1 {\n/* ฟอนต์และการจัดวาง */\nfont-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\nfont-size: 18px;\nfont-weight: 400;\nline-height: 1.6;\nletter-spacing: 0.3px;\n\n/* สีและพื้นหลัง */\ncolor: #2c3e50;\nbackground: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n\n/* การจัดวางและขอบ */\npadding: 15px 20px;\nmargin: 10px 0;\nborder-radius: 12px;\nborder: 2px solid #000;\nborder-style: double;\n\n/* ตกแต่งขอบมุม */\nposition: relative;\n\n/* เงาและ depth effect */\nbox-shadow: 0 4px 15px rgba(0,0,0,0.08),\n0 1px 3px rgba(0,0,0,0.05);\n\n/* การเปลี่ยนแปลงแบบ smooth */\ntransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\n/* เพิ่มความน่าสนใจ */\noverflow: hidden;\n}\n\n/* Effect เมื่อ hover */\n.text1:hover {\ntransform: translateY(-2px);\nbox-shadow: 0 6px 20px rgba(0,0,0,0.15),\n0 2px 5px rgba(0,0,0,0.1);\nborder-color: #2ecc71;\nbackground: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n}\n\n/* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n.text1::before {\ncontent: '🤖';\nposition: absolute;\ntop: 5px;\nleft: 5px;\nfont-size: 16px;\n}\n\n.text1::after {\ncontent: '🤖';\nposition: absolute;\nbottom: 5px;\nright: 5px;\nfont-size: 16px;\n}\n\n/* สไตล์เมื่อเลือกข้อความ */\n.text1::selection {\nbackground-color: #ffd1dc;\ncolor: #ff69b4;\n}\n\n/* animation เมื่อ element ปรากฎ */\n@keyframes slideIn {\nfrom {\nopacity: 0;\ntransform: translateY(10px);\n}\nto {\nopacity: 1;\ntransform: translateY(0);\n}\n}\n\n.text1 {\nanimation: slideIn 0.5s ease-out forwards;\n}\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 100,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "1746533b6779d706",
        "type": "change",
        "z": "67f441e2c645fc13",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 120,
        "wires": [
            [
                "785badae3a8eebc3"
            ]
        ]
    },
    {
        "id": "55427cf34016e818",
        "type": "function",
        "z": "67f441e2c645fc13",
        "name": "set name",
        "func": "var fileValue = msg.payload.fileName;\nflow.set('Filename', fileValue);  \n\nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "25eeb12284ea597e",
        "type": "Publisher",
        "z": "67f441e2c645fc13",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 720,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8907c90b5005fa00",
        "type": "ROS2 Type",
        "z": "67f441e2c645fc13",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 520,
        "y": 240,
        "wires": [
            [
                "25eeb12284ea597e"
            ]
        ]
    },
    {
        "id": "542820aac2ba841f",
        "type": "function",
        "z": "67f441e2c645fc13",
        "name": "Promt Start",
        "func": "var fileValue = flow.get(\"Filename\");\n\nif (msg.pose == true){\n    msg.data = \"ros2 run go_position go_position \" + fileValue + \".csv \";\n    return msg;\n}\n\nelse{\n    if(msg.pose == false){\n        msg.data = \"stop ros2 run go_position go_position \" + fileValue + \".csv \" ;\n    return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 240,
        "wires": [
            [
                "8907c90b5005fa00"
            ]
        ]
    },
    {
        "id": "c8da9385ed701540",
        "type": "function",
        "z": "67f441e2c645fc13",
        "name": "set name",
        "func": "msg.data  = msg.payload.poseName;\n\nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 320,
        "wires": [
            [
                "b616fdfef55abcd5"
            ]
        ]
    },
    {
        "id": "b616fdfef55abcd5",
        "type": "ROS2 Type",
        "z": "67f441e2c645fc13",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 520,
        "y": 320,
        "wires": [
            [
                "67ec12b407e5a9d9"
            ]
        ]
    },
    {
        "id": "67ec12b407e5a9d9",
        "type": "Publisher",
        "z": "67f441e2c645fc13",
        "topic": "sub_position",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 720,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "12cac1b9ee3cdd03",
        "type": "Subscriber",
        "z": "67f441e2c645fc13",
        "topic": "go_position_status",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 410,
        "y": 400,
        "wires": [
            [
                "05cbc599b05a6d9a"
            ]
        ]
    },
    {
        "id": "789097571883bac4",
        "type": "ROS2 Type",
        "z": "67f441e2c645fc13",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 180,
        "y": 400,
        "wires": [
            [
                "12cac1b9ee3cdd03"
            ]
        ]
    },
    {
        "id": "05cbc599b05a6d9a",
        "type": "function",
        "z": "67f441e2c645fc13",
        "name": "function 9",
        "func": "msg.payload = msg.data;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 400,
        "wires": [
            [
                "65f082a1907746ca"
            ]
        ]
    },
    {
        "id": "b5693a158817f5ac",
        "type": "ui_button",
        "z": "67f441e2c645fc13",
        "name": "",
        "group": "94964ecd11dac9e3",
        "order": 6,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 200,
        "y": 120,
        "wires": [
            [
                "1746533b6779d706"
            ]
        ]
    },
    {
        "id": "65f082a1907746ca",
        "type": "ui_text",
        "z": "67f441e2c645fc13",
        "group": "94964ecd11dac9e3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "text1",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 770,
        "y": 400,
        "wires": []
    },
    {
        "id": "785badae3a8eebc3",
        "type": "ui_ui_control",
        "z": "67f441e2c645fc13",
        "name": "",
        "events": "all",
        "x": 600,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "2dad2d68af30a216",
        "type": "ui_template",
        "z": "67f441e2c645fc13",
        "group": "94964ecd11dac9e3",
        "name": "",
        "order": 8,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    .text1 {\n    /* ฟอนต์และการจัดวาง */\n    font-family: 'Mitr', 'Itim', 'Kanit', sans-serif;\n    font-size: 18px;\n    font-weight: 400;\n    line-height: 1.6;\n    letter-spacing: 0.3px;\n    \n    /* สีและพื้นหลัง */\n    color: #2c3e50;\n    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n    \n    /* การจัดวางและขอบ */\n    padding: 15px 20px;\n    margin: 10px 0;\n    border-radius: 12px;\n    border: 2px solid #000;\n    border-style: double;\n    \n    /* ตกแต่งขอบมุม */\n    position: relative;\n    \n    /* เงาและ depth effect */\n    box-shadow: 0 4px 15px rgba(0,0,0,0.08),\n    0 1px 3px rgba(0,0,0,0.05);\n    \n    /* การเปลี่ยนแปลงแบบ smooth */\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    \n    /* เพิ่มความน่าสนใจ */\n    overflow: hidden;\n    }\n    \n    /* Effect เมื่อ hover */\n    .text1:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15),\n    0 2px 5px rgba(0,0,0,0.1);\n    border-color: #2ecc71;\n    background: linear-gradient(135deg, #ffffff 0%, #e8f6ff 100%);\n    }\n    \n    /* ตกแต่งมุมด้วยไอคอนหุ่นยนต์ */\n    .text1::before {\n    content: '🤖';\n    position: absolute;\n    top: 5px;\n    left: 5px;\n    font-size: 16px;\n    }\n    \n    .text1::after {\n    content: '🤖';\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n    font-size: 16px;\n    }\n    \n    /* สไตล์เมื่อเลือกข้อความ */\n    .text1::selection {\n    background-color: #ffd1dc;\n    color: #ff69b4;\n    }\n    \n    /* animation เมื่อ element ปรากฎ */\n    @keyframes slideIn {\n    from {\n    opacity: 0;\n    transform: translateY(10px);\n    }\n    to {\n    opacity: 1;\n    transform: translateY(0);\n    }\n    }\n    \n    .text1 {\n    animation: slideIn 0.5s ease-out forwards;\n    }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "6d26f39d96d99400",
        "type": "ui_template",
        "z": "67f441e2c645fc13",
        "group": "94964ecd11dac9e3",
        "name": "path name",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-form\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Choose a file</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {fileName: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"fileName\">File Name:</label>\n                    <input type=\"text\" id=\"fileName\" ng-model=\"formData.fileName\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Ensure unique class names to prevent conflicts */\n    .workspace-config-form .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 7px auto;\n        overflow: hidden;\n        padding: 7px;\n    }\n\n    .workspace-config-form .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-form .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-form .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-form .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-form label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-form .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-form .bar:before,\n    .workspace-config-form .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-form .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-form input:focus~.bar:before,\n    .workspace-config-form input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-form .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-form input:focus~.highlight {\n        animation: inputHighlighter 0.3s ease;\n    }\n\n    @keyframes inputHighlighter {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-form .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-form .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-form .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-form .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-form .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 350,
        "y": 60,
        "wires": [
            [
                "55427cf34016e818"
            ]
        ]
    },
    {
        "id": "16271cec9d1ce416",
        "type": "ui_template",
        "z": "67f441e2c645fc13",
        "group": "94964ecd11dac9e3",
        "name": "start-stop",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn6\" class=\"custom-control-btn\" ng-click=\"toggle6()\" ng-style=\"{\n    'background-color': button6State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button6State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button6State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button6Id = 'controlBtn6';\n    var storage6Key = 'button6_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button6State = localStorage.getItem(storage6Key) === 'true' ? true : false;\n    \n    scope.toggle6 = function() {\n        scope.button6State = !scope.button6State;\n        var msg = { \n            pose: scope.button6State,\n            buttonId: 'button3'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage6Key, scope.button6State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 240,
        "wires": [
            [
                "542820aac2ba841f"
            ]
        ]
    },
    {
        "id": "f2acb9a0f577f6e4",
        "type": "ui_template",
        "z": "67f441e2c645fc13",
        "group": "94964ecd11dac9e3",
        "name": "pose name",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-form\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Choose a position</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {poseName: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                    <div class=\"form-group\">\n                        <label for=\"poseName\">Position Name:</label>\n                        <input type=\"text\" id=\"poseName\" ng-model=\"formData.poseName\" required>\n                        <span class=\"highlight\"></span>\n                        <span class=\"bar\"></span>\n                    </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Ensure unique class names to prevent conflicts */\n    .workspace-config-form .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 7px auto;\n        overflow: hidden;\n        padding: 7px;\n    }\n\n    .workspace-config-form .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-form .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-form .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-form .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-form label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-form .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-form .bar:before,\n    .workspace-config-form .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-form .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-form .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-form input:focus~.bar:before,\n    .workspace-config-form input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-form .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-form input:focus~.highlight {\n        animation: inputHighlighter 0.3s ease;\n    }\n\n    @keyframes inputHighlighter {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-form .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-form .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-form .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-form .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-form .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 170,
        "y": 320,
        "wires": [
            [
                "c8da9385ed701540"
            ]
        ]
    },
    {
        "id": "50542623028b5307",
        "type": "Publisher",
        "z": "5628521c79fe58e0",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 720,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "191786c28a1240c9",
        "type": "ROS2 Type",
        "z": "5628521c79fe58e0",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 520,
        "y": 320,
        "wires": [
            [
                "50542623028b5307"
            ]
        ]
    },
    {
        "id": "b641cc571ce3a080",
        "type": "change",
        "z": "5628521c79fe58e0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 180,
        "wires": [
            [
                "2ff2f59592fede64"
            ]
        ]
    },
    {
        "id": "ebe93787247b82a2",
        "type": "change",
        "z": "5628521c79fe58e0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Teleoperation Control\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 220,
        "wires": [
            [
                "2ff2f59592fede64"
            ]
        ]
    },
    {
        "id": "d23add634c6d7e0d",
        "type": "function",
        "z": "5628521c79fe58e0",
        "name": "Promt Start",
        "func": " \nif (msg.path == true){\n    msg.data = \"ros2 run follow_path save_path\";\n    return msg;\n}\n\nelse{\n    if(msg.path == false){\n        msg.data = \"stop ros2 run follow_path save_path\";\n        return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 320,
        "wires": [
            [
                "191786c28a1240c9"
            ]
        ]
    },
    {
        "id": "448a5e09aa0d550b",
        "type": "function",
        "z": "5628521c79fe58e0",
        "name": "set name",
        "func": "var pathName = msg.payload.path;\nflow.set('name', pathName);  \nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "546f48e8c09d1263",
        "type": "function",
        "z": "5628521c79fe58e0",
        "name": "Promt Start",
        "func": "var path_name = flow.get(\"name\"); \n\nif (msg.payload == \"SAVE_COMMAND\") {\n    msg.data = \"true,\" + path_name + \".csv\";  \n    return msg; \n}\n\nreturn;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 380,
        "wires": [
            [
                "af33411c33ad3041"
            ]
        ]
    },
    {
        "id": "89a4362dc55f4e55",
        "type": "Publisher",
        "z": "5628521c79fe58e0",
        "topic": "save_path",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 720,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "af33411c33ad3041",
        "type": "ROS2 Type",
        "z": "5628521c79fe58e0",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 520,
        "y": 380,
        "wires": [
            [
                "89a4362dc55f4e55"
            ]
        ]
    },
    {
        "id": "0b605dc3f9e44d47",
        "type": "Subscriber",
        "z": "5628521c79fe58e0",
        "topic": "save_status",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 330,
        "y": 460,
        "wires": [
            [
                "4c18cf8e1c9b84af"
            ]
        ]
    },
    {
        "id": "f0bbebeb556baaed",
        "type": "ROS2 Type",
        "z": "5628521c79fe58e0",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 120,
        "y": 460,
        "wires": [
            [
                "0b605dc3f9e44d47"
            ]
        ]
    },
    {
        "id": "4c18cf8e1c9b84af",
        "type": "function",
        "z": "5628521c79fe58e0",
        "name": "data to payload",
        "func": "if(msg.data != \" \"){\n   msg.payload = msg.data\n    return msg;\n}\nelse{\n    return\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 460,
        "wires": [
            [
                "3478c09e4f4f332b"
            ]
        ]
    },
    {
        "id": "68b69be3faa6888f",
        "type": "ui_button",
        "z": "5628521c79fe58e0",
        "name": "",
        "group": "f2fc9efefe67e228",
        "order": 5,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 180,
        "wires": [
            [
                "b641cc571ce3a080"
            ]
        ]
    },
    {
        "id": "18ae4f503b3b7f24",
        "type": "ui_button",
        "z": "5628521c79fe58e0",
        "name": "",
        "group": "f2fc9efefe67e228",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Teleop Control",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 220,
        "wires": [
            [
                "ebe93787247b82a2"
            ]
        ]
    },
    {
        "id": "3478c09e4f4f332b",
        "type": "ui_toast",
        "z": "5628521c79fe58e0",
        "position": "top right",
        "displayTime": "10",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 790,
        "y": 460,
        "wires": []
    },
    {
        "id": "2ff2f59592fede64",
        "type": "ui_ui_control",
        "z": "5628521c79fe58e0",
        "name": "",
        "events": "all",
        "x": 540,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "9107843e7733565b",
        "type": "ui_template",
        "z": "5628521c79fe58e0",
        "group": "f2fc9efefe67e228",
        "name": "start-stop",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn4\" class=\"custom-control-btn\" ng-click=\"toggle4()\" ng-style=\"{\n    'background-color': button4State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button4State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button4State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button4Id = 'controlBtn4';\n    var storage4Key = 'button4_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button4State = localStorage.getItem(storage4Key) === 'true' ? true : false;\n    \n    scope.toggle4 = function() {\n        scope.button4State = !scope.button4State;\n        var msg = { \n            path: scope.button4State,\n            buttonId: 'button4'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage4Key, scope.button4State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 320,
        "wires": [
            [
                "d23add634c6d7e0d"
            ]
        ]
    },
    {
        "id": "273d389ee4e07c2a",
        "type": "ui_template",
        "z": "5628521c79fe58e0",
        "group": "f2fc9efefe67e228",
        "name": "path name",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-simple\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Save Path</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {path: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"pathNameSimple\">Path Name:</label>\n                    <input type=\"text\" id=\"pathNameSimple\" ng-model=\"formData.path\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Unique scoped styles for the simple form */\n    .workspace-config-simple .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 5px auto;\n        overflow: hidden;\n        padding: 5px;\n    }\n\n    .workspace-config-simple .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-simple .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-simple .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-simple .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-simple label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-simple .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-simple .bar:before,\n    .workspace-config-simple .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-simple .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-simple input:focus~.bar:before,\n    .workspace-config-simple input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-simple .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-simple input:focus~.highlight {\n        animation: inputHighlighterSimple 0.3s ease;\n    }\n\n    @keyframes inputHighlighterSimple {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-simple .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-simple .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-simple .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-simple .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-simple .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 370,
        "y": 80,
        "wires": [
            [
                "448a5e09aa0d550b"
            ]
        ]
    },
    {
        "id": "a1c65d53f34903a7",
        "type": "ui_template",
        "z": "5628521c79fe58e0",
        "group": "f2fc9efefe67e228",
        "name": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* ปุ่มที่ 1 - สีฟ้า */\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #2196F3 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4) !important;\n    }\n\n   \n    .btn2>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn2>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    .success >.md-toast-content {\n    background-color: #4CAF50 !important;\n    border-radius: 8px !important;\n    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3) !important;\n    padding: 12px 24px !important;\n    color: white !important;\n    font-size: 14px !important;\n    font-weight: 500 !important;\n    animation: fadeInOut 3s ease forwards;\n    }\n    \n    \n    \n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "fd34435bc66368ec",
        "type": "ui_template",
        "z": "5628521c79fe58e0",
        "group": "f2fc9efefe67e228",
        "name": "save ",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <style>\n    .save-path-btn {\n      min-width: 120px;\n      padding: 12px 24px;\n      border-radius: 25px;\n      font-size: 16px;\n      font-weight: bold;\n      text-transform: uppercase;\n      box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n      transition: all 0.3s ease;\n      border: none;\n      outline: none;\n      cursor: pointer;\n      background-color: #4CAF50;\n      color: white;\n    }\n\n    .save-path-btn:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .save-path-btn:active {\n      transform: translateY(1px);\n      box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .save-btn-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .save-icon {\n      margin-right: 8px;\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"save-btn-container\">\n    <button class=\"save-path-btn\" onclick=\"savePathHandler()\">Save</button>\n  </div>\n\n  <script>\n    (function(scope) {\n  // ใช้ IIFE เพื่อสร้าง scope ที่แยกออกมา\n  const SAVE_BUTTON = {\n    sendHomeCommand: function() {\n      var msg = {\n        payload: \"SAVE_COMMAND\",\n        source: \"path_path_button\" // เพิ่ม identifier ให้รู้ว่ามาจากปุ่มไหน\n      };\n      scope.send(msg);\n    }\n  };\n\n  // สร้าง global function ด้วยชื่อที่เฉพาะเจาะจง\n  window.savePathHandler = function() {\n    SAVE_BUTTON.sendHomeCommand();\n  };\n})(scope);\n  </script>\n</body>\n\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 150,
        "y": 380,
        "wires": [
            [
                "546f48e8c09d1263"
            ]
        ]
    },
    {
        "id": "20d6832a9f6192a5",
        "type": "function",
        "z": "c39c572b899184d8",
        "name": "set name",
        "func": "var fileName = msg.payload.filename;\nflow.set('filename', fileName);  \nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "44e72d5a40de7c8b",
        "type": "Publisher",
        "z": "c39c572b899184d8",
        "topic": "save_position",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 700,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "b374f2fc4aaeb9ee",
        "type": "ROS2 Type",
        "z": "c39c572b899184d8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 500,
        "y": 180,
        "wires": [
            [
                "44e72d5a40de7c8b"
            ]
        ]
    },
    {
        "id": "9e5271da281e78ea",
        "type": "function",
        "z": "c39c572b899184d8",
        "name": "set name",
        "func": "var positionName = msg.payload.position;\nmsg.data = \"true,\"+ positionName;\n\nreturn msg;  ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 180,
        "wires": [
            [
                "b374f2fc4aaeb9ee"
            ]
        ]
    },
    {
        "id": "af433a8169562e90",
        "type": "function",
        "z": "c39c572b899184d8",
        "name": "Promt Start",
        "func": "var filename= flow.get(\"filename\"); \n\nif (msg.position == true){\n    msg.data = \"ros2 run go_position save_position \" + filename+ \".csv\";\n    return msg;\n}\n\nelse{\n    if(msg.position == false){\n        msg.data = \"stop ros2 run go_position save_position \" + filename+ \".csv\";\n        return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 120,
        "wires": [
            [
                "dab919e59afad7b1"
            ]
        ]
    },
    {
        "id": "e05743a5d0f19c3a",
        "type": "Publisher",
        "z": "c39c572b899184d8",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 780,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "dab919e59afad7b1",
        "type": "ROS2 Type",
        "z": "c39c572b899184d8",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 580,
        "y": 120,
        "wires": [
            [
                "e05743a5d0f19c3a"
            ]
        ]
    },
    {
        "id": "18c831960fa845be",
        "type": "change",
        "z": "c39c572b899184d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Admin Mode\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 280,
        "wires": [
            [
                "55db066e93e4e782"
            ]
        ]
    },
    {
        "id": "d12a6b6b3205534e",
        "type": "change",
        "z": "c39c572b899184d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Teleoperation Control\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 320,
        "wires": [
            [
                "55db066e93e4e782"
            ]
        ]
    },
    {
        "id": "e14e8d5aeabbca9d",
        "type": "ui_button",
        "z": "c39c572b899184d8",
        "name": "",
        "group": "3e66937ec7c5fd90",
        "order": 4,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Back To Admin Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn2",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 280,
        "wires": [
            [
                "18c831960fa845be"
            ]
        ]
    },
    {
        "id": "85e2433ec5212c94",
        "type": "ui_button",
        "z": "c39c572b899184d8",
        "name": "",
        "group": "3e66937ec7c5fd90",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Teleop Control",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 320,
        "wires": [
            [
                "d12a6b6b3205534e"
            ]
        ]
    },
    {
        "id": "55db066e93e4e782",
        "type": "ui_ui_control",
        "z": "c39c572b899184d8",
        "name": "",
        "events": "all",
        "x": 540,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "2d3cec59a58bce20",
        "type": "ui_template",
        "z": "c39c572b899184d8",
        "group": "3e66937ec7c5fd90",
        "name": "filename",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-simple\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>File Name</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {filename: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"filenameNameSimple\">File Name:</label>\n                    <input type=\"text\" id=\"filenameNameSimple\" ng-model=\"formData.filename\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Unique scoped styles for the simple form */\n    .workspace-config-simple .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 5px auto;\n        overflow: hidden;\n        padding: 5px;\n    }\n\n    .workspace-config-simple .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-simple .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-simple .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-simple .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-simple label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-simple .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-simple .bar:before,\n    .workspace-config-simple .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-simple .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-simple input:focus~.bar:before,\n    .workspace-config-simple input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-simple .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-simple input:focus~.highlight {\n        animation: inputHighlighterSimple 0.3s ease;\n    }\n\n    @keyframes inputHighlighterSimple {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-simple .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-simple .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-simple .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-simple .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-simple .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 340,
        "y": 40,
        "wires": [
            [
                "20d6832a9f6192a5"
            ]
        ]
    },
    {
        "id": "00d8a2083a552f58",
        "type": "ui_template",
        "z": "c39c572b899184d8",
        "group": "3e66937ec7c5fd90",
        "name": "position name",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div class=\"workspace-config-simple\">\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2>Save Position</h2>\n        </div>\n        <div class=\"card-body\" ng-init=\"formData = {position: ''}\">\n            <form ng-submit=\"send({payload: formData})\">\n                <div class=\"form-group\">\n                    <label for=\"positionNameSimple\">Position Name:</label>\n                    <input type=\"text\" id=\"positionNameSimple\" ng-model=\"formData.position\" required>\n                    <span class=\"highlight\"></span>\n                    <span class=\"bar\"></span>\n                </div>\n                <div class=\"buttons\">\n                    <button type=\"submit\" class=\"btn-save\">Confirm</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<style>\n    /* Unique scoped styles for the simple form */\n    .workspace-config-simple .card {\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        max-width: 500px;\n        margin: 5px auto;\n        overflow: hidden;\n        padding: 5px;\n    }\n\n    .workspace-config-simple .card-header {\n        color: #333;\n        padding: 10px 20px;\n        text-align: center;\n    }\n\n    .workspace-config-simple .card-header h2 {\n        margin: 0;\n        font-size: 20px;\n        font-weight: 400;\n    }\n\n    .workspace-config-simple .card-body {\n        padding: 20px;\n    }\n\n    .workspace-config-simple .form-group {\n        position: relative;\n        margin-bottom: 25px;\n    }\n\n    .workspace-config-simple label {\n        color: #333;\n        font-size: 16px;\n        font-weight: 500;\n        display: block;\n        margin-bottom: 8px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input {\n        width: 100%;\n        height: 36px;\n        padding: 0 10px;\n        border: none;\n        border-bottom: 1px solid #ddd;\n        background: transparent;\n        font-size: 16px;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple input:focus {\n        outline: none;\n        border-bottom: 2px solid #2196f3;\n    }\n\n    .workspace-config-simple .bar {\n        position: relative;\n        display: block;\n        width: 100%;\n    }\n\n    .workspace-config-simple .bar:before,\n    .workspace-config-simple .bar:after {\n        content: '';\n        height: 2px;\n        width: 0;\n        bottom: 0;\n        position: absolute;\n        background: #2196f3;\n        transition: all 0.3s ease;\n    }\n\n    .workspace-config-simple .bar:before {\n        left: 50%;\n    }\n\n    .workspace-config-simple .bar:after {\n        right: 50%;\n    }\n\n    .workspace-config-simple input:focus~.bar:before,\n    .workspace-config-simple input:focus~.bar:after {\n        width: 50%;\n    }\n\n    .workspace-config-simple .highlight {\n        position: absolute;\n        height: 60%;\n        width: 100px;\n        top: 25%;\n        left: 0;\n        pointer-events: none;\n        opacity: 0.5;\n    }\n\n    .workspace-config-simple input:focus~.highlight {\n        animation: inputHighlighterSimple 0.3s ease;\n    }\n\n    @keyframes inputHighlighterSimple {\n        from {\n            background: #2196f3;\n        }\n\n        to {\n            width: 0;\n            background: transparent;\n        }\n    }\n\n    .workspace-config-simple .buttons {\n        text-align: center;\n        margin-top: 20px;\n    }\n\n    .workspace-config-simple .btn-save {\n        background: #2196f3;\n        color: white;\n        border: none;\n        border-radius: 50px;\n        padding: 12px 30px;\n        font-size: 16px;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        box-shadow: 0 2px 5px rgba(33, 150, 243, 0.3);\n    }\n\n    .workspace-config-simple .btn-save:hover {\n        background: #1976d2;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.5);\n        transform: translateY(-2px);\n    }\n\n    .workspace-config-simple .btn-save:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(33, 150, 243, 0.3);\n    }\n\n    /* Responsive Design */\n    @media (max-width: 768px) {\n        .workspace-config-simple .card {\n            max-width: 90%;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 180,
        "wires": [
            [
                "9e5271da281e78ea"
            ]
        ]
    },
    {
        "id": "d11d5c15fc490aaf",
        "type": "ui_template",
        "z": "c39c572b899184d8",
        "group": "3e66937ec7c5fd90",
        "name": "start-stop save position",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn5\" class=\"custom-control-btn\" ng-click=\"toggle5()\" ng-style=\"{\n    'background-color': button5State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button5State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button5State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button5Id = 'controlBtn5';\n    var storage5Key = 'button5_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button5State = localStorage.getItem(storage5Key) === 'true' ? true : false;\n    \n    scope.toggle5 = function() {\n        scope.button5State = !scope.button5State;\n        var msg = { \n            position: scope.button5State,\n            buttonId: 'button5'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage5Key, scope.button5State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 170,
        "y": 120,
        "wires": [
            [
                "af433a8169562e90"
            ]
        ]
    },
    {
        "id": "17d93e9b40719c1f",
        "type": "ui_template",
        "z": "c39c572b899184d8",
        "group": "3e66937ec7c5fd90",
        "name": "",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* ปุ่มที่ 1 - สีฟ้า */\n    .btn1>.md-button {\n        border-radius: 25px !important;\n        background-color: #2196F3 !important;\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n\n    .btn1>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(33, 150, 243, 0.4) !important;\n    }\n\n   \n    .btn2>.md-button {\n        border-radius: 25px !important;\n        background-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\n        color: white !important;\n        box-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\n        transition: all 0.3s ease !important;\n    }\n    .btn2>.md-button:hover {\n        transform: translateY(-2px) !important;\n        box-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n    }\n\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "fdd5a86c8b74bef2",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Set Linear_vel",
        "func": "flow.set('linearSliderValue', msg.payload);  // ใช้ Flow Context แทน Global\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 260,
        "wires": [
            [
                "fe75e8b900f67332",
                "9dd6a18156047e5e"
            ]
        ]
    },
    {
        "id": "e03d05bb43073620",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Negative_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 260,
        "wires": [
            [
                "10198ae0c021c72d"
            ]
        ]
    },
    {
        "id": "249328e171df1ca4",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Positive_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue');  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 300,
        "wires": [
            [
                "907f36054a2d6963"
            ]
        ]
    },
    {
        "id": "33f0283e3c660e8b",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Negative_Angular_vel",
        "func": "msg.payload = flow.get('angularSliderValue'); \nif (msg.payload >= 0) {\n    msg.payload = -msg.payload;\n} \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 340,
        "wires": [
            [
                "907f36054a2d6963"
            ]
        ]
    },
    {
        "id": "68afc1fa512447ac",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Set Angular_vel",
        "func": "flow.set('angularSliderValue', msg.payload);  \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 340,
        "wires": [
            [
                "4156651d29b67858",
                "889f17340a9b1e55"
            ]
        ]
    },
    {
        "id": "203bf67e4683a14a",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Positive_Linear_vel",
        "func": "msg.payload = flow.get('linearSliderValue'); \nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 220,
        "wires": [
            [
                "10198ae0c021c72d"
            ]
        ]
    },
    {
        "id": "10198ae0c021c72d",
        "type": "change",
        "z": "644589065e812f09",
        "name": "Linear_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 240,
        "wires": [
            [
                "aee3358a8b060ff1"
            ]
        ]
    },
    {
        "id": "907f36054a2d6963",
        "type": "change",
        "z": "644589065e812f09",
        "name": "angular_vel",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 320,
        "wires": [
            [
                "aee3358a8b060ff1"
            ]
        ]
    },
    {
        "id": "7be9d399afed5081",
        "type": "change",
        "z": "644589065e812f09",
        "name": "stop",
        "rules": [
            {
                "t": "set",
                "p": "linear.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "linear.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.x",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.y",
                "pt": "msg",
                "to": "",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "angular.z",
                "pt": "msg",
                "to": "",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 380,
        "wires": [
            [
                "aee3358a8b060ff1"
            ]
        ]
    },
    {
        "id": "4fc9374330226d23",
        "type": "Publisher",
        "z": "644589065e812f09",
        "topic": "cmd_vel",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "geometry_msgs/Twist",
        "x": 1300,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "aee3358a8b060ff1",
        "type": "ROS2 Type",
        "z": "644589065e812f09",
        "ros2pkg": "geometry_msgs",
        "ros2message": "Twist",
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "4fc9374330226d23"
            ]
        ]
    },
    {
        "id": "41966b37fe4a174d",
        "type": "change",
        "z": "644589065e812f09",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"tab\":\"Home\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 60,
        "wires": [
            [
                "ce55834aa3b7a859"
            ]
        ]
    },
    {
        "id": "28cec680c8ccb57b",
        "type": "function",
        "z": "644589065e812f09",
        "name": "Promt Start",
        "func": "var person_name = flow.get(\"name\");  \n\nif (msg.bool == true){\n    msg.data = \"ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n    return msg;\n}\n\nelse{\n    if(msg.bool == false){\n        msg.data = \"stop ros2 launch follow_person follow_person.launch.py person_name:=\" + person_name;\n        return msg;\n}}\nreturn;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 480,
        "wires": [
            [
                "1524b554c040dd46"
            ]
        ]
    },
    {
        "id": "49b6890c7293248a",
        "type": "Publisher",
        "z": "644589065e812f09",
        "topic": "node_control_topic",
        "domain": "7bb80232067eb108",
        "props": [],
        "selectedtype": "std_msgs/String",
        "x": 660,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "1524b554c040dd46",
        "type": "ROS2 Type",
        "z": "644589065e812f09",
        "ros2pkg": "std_msgs",
        "ros2message": "String",
        "x": 460,
        "y": 480,
        "wires": [
            [
                "49b6890c7293248a"
            ]
        ]
    },
    {
        "id": "fe75e8b900f67332",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "up",
        "group": "db6b90317e3a0e44",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn3",
        "icon": "fa-arrow-up",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 220,
        "wires": [
            [
                "203bf67e4683a14a"
            ]
        ]
    },
    {
        "id": "9dd6a18156047e5e",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "down",
        "group": "db6b90317e3a0e44",
        "order": 15,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn4",
        "icon": "fa-arrow-down",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 260,
        "wires": [
            [
                "e03d05bb43073620"
            ]
        ]
    },
    {
        "id": "ad23b549421227d6",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "stop",
        "group": "db6b90317e3a0e44",
        "order": 11,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn7",
        "icon": "fa-stop",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 380,
        "wires": [
            [
                "7be9d399afed5081"
            ]
        ]
    },
    {
        "id": "889f17340a9b1e55",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "right",
        "group": "db6b90317e3a0e44",
        "order": 12,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn6",
        "icon": "fa-arrow-right",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 340,
        "wires": [
            [
                "33f0283e3c660e8b"
            ]
        ]
    },
    {
        "id": "4156651d29b67858",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "left",
        "group": "db6b90317e3a0e44",
        "order": 10,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "btn5",
        "icon": "fa-arrow-left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 470,
        "y": 300,
        "wires": [
            [
                "249328e171df1ca4"
            ]
        ]
    },
    {
        "id": "f6274a8c765009bb",
        "type": "ui_button",
        "z": "644589065e812f09",
        "name": "",
        "group": "db6b90317e3a0e44",
        "order": 17,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Back To Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "Gray",
        "className": "btn1",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 340,
        "y": 60,
        "wires": [
            [
                "41966b37fe4a174d"
            ]
        ]
    },
    {
        "id": "45ac1318d5b916a9",
        "type": "ui_slider",
        "z": "644589065e812f09",
        "name": "",
        "label": "Linear Velocity",
        "tooltip": "",
        "group": "db6b90317e3a0e44",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.4",
        "step": "0.01",
        "className": "",
        "x": 100,
        "y": 260,
        "wires": [
            [
                "25eb3b824750135a",
                "fdd5a86c8b74bef2"
            ]
        ]
    },
    {
        "id": "a6a316f34d4c479d",
        "type": "ui_slider",
        "z": "644589065e812f09",
        "name": "",
        "label": "Augular Velocity",
        "tooltip": "",
        "group": "db6b90317e3a0e44",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "0.4",
        "step": "0.01",
        "className": "",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "68afc1fa512447ac",
                "4d82e5ced9c59d65"
            ]
        ]
    },
    {
        "id": "4d82e5ced9c59d65",
        "type": "ui_gauge",
        "z": "644589065e812f09",
        "name": "",
        "group": "db6b90317e3a0e44",
        "order": 2,
        "width": 5,
        "height": 4,
        "gtype": "gage",
        "title": "Augular Velocity",
        "label": "rad/s ",
        "format": "{{value}}",
        "min": 0,
        "max": "0.4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 300,
        "y": 380,
        "wires": []
    },
    {
        "id": "25eb3b824750135a",
        "type": "ui_gauge",
        "z": "644589065e812f09",
        "name": "",
        "group": "db6b90317e3a0e44",
        "order": 1,
        "width": 5,
        "height": 4,
        "gtype": "gage",
        "title": "Linear Velocity",
        "label": "m/s²",
        "format": "{{value}}",
        "min": 0,
        "max": "0.4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 300,
        "y": 220,
        "wires": []
    },
    {
        "id": "ce55834aa3b7a859",
        "type": "ui_ui_control",
        "z": "644589065e812f09",
        "name": "",
        "events": "all",
        "x": 700,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "8b2260285d704084",
        "type": "ui_template",
        "z": "644589065e812f09",
        "group": "db6b90317e3a0e44",
        "name": "",
        "order": 19,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n.btn1>.md-button {\nborder-radius: 25px !important;\nbackground-color: #808080 !important; /* เปลี่ยนเป็นสีเทา */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(128, 128, 128, 0.3) !important;\ntransition: all 0.3s ease !important;\n}\n.btn1>.md-button:hover {\ntransform: translateY(-2px) !important;\nbox-shadow: 0 6px 12px rgba(128, 128, 128, 0.4) !important;\n}\n\n/* ปุ่มเดินหน้า */\n.btn3>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn3>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มถอยหลัง */\n.btn4>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn4>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวซ้าย */\n.btn5>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn5>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มเลี้ยวขวา */\n.btn6>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn6>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n/* ปุ่มหยุด */\n.btn7>.md-button {\nborder-radius: 25px !important;\nbackground-color: #2196F3 !important; /* สีฟ้า */\ncolor: white !important;\nbox-shadow: 0 4px 8px rgba(33, 150, 243, 0.3) !important;\ntransition: all 0.2s ease !important;\n}\n.btn7>.md-button:active {\ntransform: scale(0.95) !important;\nbox-shadow: 0 2px 4px rgba(33, 150, 243, 0.2) !important;\n}\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "d88694f38a6ca3c9",
        "type": "ui_template",
        "z": "644589065e812f09",
        "group": "69e1226c24051699",
        "name": "start-stop",
        "order": 3,
        "width": 3,
        "height": 1,
        "format": "<style>\n    .custom-control-btn {\n        min-width: 120px;\n        padding: 12px 24px;\n        border-radius: 25px;\n        font-size: 16px;\n        font-weight: bold;\n        text-transform: uppercase;\n        box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);\n        transition: all 0.3s ease;\n        border: none;\n        outline: none;\n        cursor: pointer;\n    }\n\n    .custom-control-btn:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n    }\n\n    .custom-control-btn:active {\n        transform: translateY(1px);\n        box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n    }\n\n    .btn-container {\n        display: flex;\n        justify-content: center;\n        align-items: center\n    }\n\n    .icon {\n        margin-right: 8px;\n    }\n</style>\n<div class=\"btn-container\">\n    <md-button id=\"controlBtn7\" class=\"custom-control-btn\" ng-click=\"toggle7()\" ng-style=\"{\n    'background-color': button7State ? '#f44336' : '#4CAF50',\n    'color': 'white'\n}\">\n        <i class=\"icon\" ng-class=\"button7State ? 'fa fa-stop' : 'fa fa-play'\"></i>\n        {{button7State ? 'Stop' : 'Start'}}\n    </md-button>\n</div>\n<script>\n    (function(scope) {\n    // เปลี่ยนชื่อตัวแปรให้เฉพาะเจาะจง\n    var button7Id = 'controlBtn7';\n    var storage7Key = 'button7_state';\n    \n    // ใช้ชื่อตัวแปรที่เฉพาะเจาะจง\n    scope.button7State = localStorage.getItem(storage7Key) === 'true' ? true : false;\n    \n    scope.toggle7 = function() {\n        scope.button7State = !scope.button7State;\n        var msg = { \n            bool: scope.button7State,\n            buttonId: 'button7'  // เพิ่ม ID เพื่อระบุปุ่ม\n        };\n        scope.send(msg);\n        localStorage.setItem(storage7Key, scope.button7State);\n    };\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "28cec680c8ccb57b"
            ]
        ]
    },
    {
        "id": "e65a1ea5b535d42c",
        "type": "http in",
        "z": "dbf2bef4312877d8",
        "name": "",
        "url": "/login",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 280,
        "y": 80,
        "wires": [
            [
                "b3b8477d706ca854"
            ]
        ]
    },
    {
        "id": "2a38435e2720c644",
        "type": "http response",
        "z": "dbf2bef4312877d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 670,
        "y": 80,
        "wires": []
    },
    {
        "id": "b3b8477d706ca854",
        "type": "template",
        "z": "dbf2bef4312877d8",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Login Form</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css\">\n    <style>\n        body {\n            background-color: #f8f9fa;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        .login-container {\n            background: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            text-align: center;\n            width: 350px;\n        }\n        .logo {\n            width: 80px;\n            height: 80px;\n            border-radius: 50%;\n            margin-bottom: 15px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"login-container\">\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAedXJYnsRrxOcKqf1U3N0-hGW8GF6LuXnoQ&s\" class=\"logo\" alt=\"Logo\">\n        <form action=\"/login\" method=\"post\">\n            <div class=\"form-group\">\n                <label for=\"username\">Username:</label>\n                <input name=\"username\" type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"Enter username\">\n            </div>\n            <div class=\"form-group\">\n                <label for=\"pwd\">Password:</label>\n                <input name=\"password\" type=\"password\" class=\"form-control\" id=\"pwd\" placeholder=\"Enter password\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary btn-block mt-3\">Submit</button>\n        </form>\n    </div>\n</body>\n</html>\n",
        "output": "str",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "2a38435e2720c644"
            ]
        ]
    },
    {
        "id": "fc246cd08a0e26db",
        "type": "http in",
        "z": "dbf2bef4312877d8",
        "name": "",
        "url": "/login",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "8a2137fae0c9b23d"
            ]
        ]
    },
    {
        "id": "8a2137fae0c9b23d",
        "type": "function",
        "z": "dbf2bef4312877d8",
        "name": "function 2",
        "func": "var username = msg.payload.username;\nvar password = msg.payload.password;\n\nif (username === \"reaicmu_amr\" && password === \"113333\") {\n    // เมื่อล็อกอินสำเร็จ\n    msg.statusCode = 302;\n    msg.headers = {\n        'Location': 'http://192.168.1.101:1880/ui/'\n    };\n    return msg;\n} else {\n    // เมื่อล็อกอินไม่สำเร็จ กลับไปหน้า login เดิม\n    msg.statusCode = 302;\n    msg.headers = {\n        'Location': './login'  // กลับไปที่ path ของหน้า login\n    };\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 160,
        "wires": [
            [
                "83603c081c5b30e8"
            ]
        ]
    },
    {
        "id": "83603c081c5b30e8",
        "type": "http response",
        "z": "dbf2bef4312877d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 670,
        "y": 160,
        "wires": []
    }
]